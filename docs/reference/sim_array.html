<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Simulate (marine) monitoring arrays — sim_array • flapper</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Simulate (marine) monitoring arrays — sim_array"><meta property="og:description" content="This function is designed to simulate different kinds of array designs for monitoring stations. The function has been particularly inspired by the need to simulate passive acoustic telemetry array designs, which comprise networks of acoustic hydrophones that listen for acoustic transmissions from tagged marine animals. To implement the function, it is necessary to define the boundaries of the area (boundaries). Barriers to movement, such as coastline, within this area can be simulated or included from real datasets. The area is populated with a specified number of receivers (n_receivers) that are simulated under different array designs (namely, regular, random, stratified, non-aligned, hexagonal and clustered arrangements) or incorporated from real data. The function returns a list of spatial objects that define the array and, if requested, a plot of the area."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">flapper</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/flapper_algorithms_faqs.html">`flapper`: practitioner FAQs</a>
    </li>
    <li>
      <a href="../articles/flapper_overview.html">`flapper`: an overview</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/edwardlavender/flapper/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Simulate (marine) monitoring arrays</h1>
    <small class="dont-index">Source: <a href="https://github.com/edwardlavender/flapper/blob/HEAD/R/sims.R" class="external-link"><code>R/sims.R</code></a></small>
    <div class="hidden name"><code>sim_array.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function is designed to simulate different kinds of array designs for monitoring stations. The function has been particularly inspired by the need to simulate passive acoustic telemetry array designs, which comprise networks of acoustic hydrophones that listen for acoustic transmissions from tagged marine animals. To implement the function, it is necessary to define the boundaries of the area (<code>boundaries</code>). Barriers to movement, such as coastline, within this area can be simulated or included from real datasets. The area is populated with a specified number of receivers (<code>n_receivers</code>) that are simulated under different array designs (namely, regular, random, stratified, non-aligned, hexagonal and clustered arrangements) or incorporated from real data. The function returns a list of spatial objects that define the array and, if requested, a plot of the area.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">sim_array</span><span class="op">(</span></span>
<span>  boundaries <span class="op">=</span> <span class="fu">raster</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/raster/man/extent.html" class="external-link">extent</a></span><span class="op">(</span><span class="op">-</span><span class="fl">10</span>, <span class="fl">10</span>, <span class="op">-</span><span class="fl">10</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>  coastline <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  land_inside_coastline <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  n_receivers <span class="op">=</span> <span class="fl">10L</span>,</span>
<span>  arrangement <span class="op">=</span> <span class="st">"random"</span>,</span>
<span>  seed <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  plot <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  xlim <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  ylim <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  add_sea <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  add_land <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  add_receivers <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>boundaries</dt>
<dd><p>An <code><a href="https://rdrr.io/pkg/raster/man/extent.html" class="external-link">extent</a></code> object that defines the boundaries of the (simulated) study area.</p></dd>


<dt>coastline</dt>
<dd><p>(optional) This argument is used to incorporate the presence of barriers, such as coastline, in the area. There are three options. If <code>coastline = NULL</code>, no barriers are incorporated. If <code>coastline = "simple_random"</code>, then a triangular island is simulated in the study area. Alternatively, a spatial object, such as a SpatialPolygonsDataFrame, that defines the coastline in an area can be incorporated into the array design by passing this <code>coastline</code>.</p></dd>


<dt>land_inside_coastline</dt>
<dd><p>A logical variable that defines whether or not the land is `inside' the polygon(s) defined by <code>coastline</code> (<code>land_inside_coastline = TRUE</code>) or the sea is `inside' the polygon(s) (<code>land_inside_coastline = FALSE</code>).</p></dd>


<dt>n_receivers</dt>
<dd><p>An integer that defines the number of receivers in the array. This is ignored if receiver locations are specified via <code>arrangement</code>.</p></dd>


<dt>arrangement, ...</dt>
<dd><p>A character string or a SpatialPoints object that defines the arrangement of receivers. Supported character string options for simulated arrays are <code>"regular"</code>, <code>"random"</code>, <code>"stratified"</code>, <code>"nonaligned"</code>, <code>"hexagonal"</code> and <code>"clustered"</code> (see <code><a href="https://rdrr.io/pkg/sp/man/spsample.html" class="external-link">spsample</a></code>, which is used to simulate receiver locations). Additional arguments can be passed to this function via <code>...</code> for further control. Otherwise, a SpatialPoints object that defines the coordinates of receivers (in the same coordinate reference system as <code>boundaries</code> and, if applicable, <code>coastline</code>) is assumed to have been provided.</p></dd>


<dt>seed</dt>
<dd><p>An integer that is used to set the seed to enable reproducible simulations (see <code><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></code>).</p></dd>


<dt>plot</dt>
<dd><p>A logical variable that defines whether or not plot the array (via <code><a href="https://edwardlavender.github.io/prettyGraphics/reference/pretty_map.html" class="external-link">pretty_map</a></code>).</p></dd>


<dt>xlim, ylim</dt>
<dd><p>(optional) Axis limits for the plot. These can be specified in any way supported by <code><a href="https://edwardlavender.github.io/prettyGraphics/reference/pretty_axis.html" class="external-link">pretty_axis</a></code>.</p></dd>


<dt>add_sea, add_land, add_receivers</dt>
<dd><p>(optional) Named lists of arguments, passed to <code><a href="https://edwardlavender.github.io/prettyGraphics/reference/pretty_map.html" class="external-link">pretty_map</a></code>, to customise the appearance of the sea, land and/or receivers on the plot. <code>add_* = NULL</code> suppresses the addition of the layer to the plot. To use the default graphical parameters, simply specify <code>add_* = list()</code>.</p></dd>


<dt>verbose</dt>
<dd><p>A logical variable that defines whether or not to print messages to the console to relay function progress.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>The function returns a named list of (a) the spatial objects that define the simulated array (`array') and (b) the arguments used to generate this array (`args'). The `array' element is a named list contains the following elements: `boundaries', an <code><a href="https://rdrr.io/pkg/raster/man/Extent-class.html" class="external-link">Extent-class</a></code> object that defines the boundaries of the area (as inputted); `area', a <code><a href="https://rdrr.io/pkg/sp/man/SpatialPolygons-class.html" class="external-link">SpatialPolygons-class</a></code> object that defines the boundaries of the area; `land' and `sea', <code><a href="https://rdrr.io/pkg/sp/man/SpatialPolygons-class.html" class="external-link">SpatialPolygons-class</a></code> or <code><a href="https://rdrr.io/pkg/sp/man/SpatialPolygonsDataFrame-class.html" class="external-link">SpatialPolygonsDataFrame-class</a></code> objects that define the land and sea respectively; and `xy', a <code><a href="https://rdrr.io/pkg/sp/man/SpatialPoints-class.html" class="external-link">SpatialPoints-class</a></code> object that defines receiver locations. If <code>plot = TRUE</code>, the function also returns a plot of the array.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>Note that this function does not currently support temporally varying array designs.</p>
<p>For coupled simulation--analysis workflows (such as <code>sim_array</code>, <code><a href="sim_path_sa.html">sim_path_sa</a></code> and <code><a href="sim_detections.html">sim_detections</a></code> plus <code><a href="ac.html">ac</a></code>, <code><a href="dc.html">dc</a></code>,  <code><a href="acdc.html">acdc</a></code> and <code><a href="pf.html">pf</a></code>) note that the representation of the <code>coastline</code> as <code><a href="https://rdrr.io/pkg/sp/man/SpatialPolygons-class.html" class="external-link">SpatialPolygons-class</a></code> or <code><a href="https://rdrr.io/pkg/sp/man/SpatialPolygonsDataFrame-class.html" class="external-link">SpatialPolygonsDataFrame-class</a></code> objects by the <code>sim_*</code> functions, rather than a <code><a href="https://rdrr.io/pkg/raster/man/raster.html" class="external-link">raster</a></code> grid, may be problematic at the land--sea interface if the Spatial* data used for the simulation do not agree precisely with the <code><a href="https://rdrr.io/pkg/raster/man/raster.html" class="external-link">raster</a></code> data used to reconstruct movements: locations that are `allowed' from the perspective of the Spatial* data may not be allowed by the <code><a href="https://rdrr.io/pkg/raster/man/raster.html" class="external-link">raster</a></code> data (and vice versa). At the time of writing, this can be resolved by simply checking simulated array positions in relation to the grid across which movements are reconstructed. Receiver locations should also be translated onto the <code><a href="https://rdrr.io/pkg/raster/man/raster.html" class="external-link">raster</a></code> before simulating detections (see <code><a href="sim_detections.html">sim_detections</a></code>). In the future, this should be resolved by defining simulation areas across a <code><a href="https://rdrr.io/pkg/raster/man/raster.html" class="external-link">raster</a></code> too (see also <code><a href="acs_setup_containers.html">acs_setup_containers</a></code>).</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code>sim_array</code>, <code><a href="sim_path_-times.html">sim_path_*</a></code> and <code><a href="sim_detections.html">sim_detections</a></code> provide an integrated workflow for simulating acoustic arrays, movement paths in these areas and detections at receivers arising from movement.</p></div>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Edward Lavender</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co">#### Example (1): Simulate an array using default parameters</span></span></span>
<span class="r-in"><span><span class="co"># ... And force reproducible simulations by defining the seed</span></span></span>
<span class="r-in"><span><span class="va">array</span> <span class="op">&lt;-</span> <span class="fu">sim_array</span><span class="op">(</span>boundaries <span class="op">=</span> <span class="fu">raster</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/raster/man/extent.html" class="external-link">extent</a></span><span class="op">(</span><span class="op">-</span><span class="fl">10</span>, <span class="fl">10</span>, <span class="op">-</span><span class="fl">10</span>, <span class="fl">10</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                   seed <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> flapper::sim_array() called (@ 2023-02-19 15:04:47)... </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ... Defining area... </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> CRS of area is NA.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ... Incorporating receivers... </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ... ... Simulating receivers... </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ... Plotting array... </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> prettyGraphics::pretty_map() CRS taken as: 'NA'.</span>
<span class="r-plt img"><img src="sim_array-1.png" alt="" width="700" height="433"></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ... Defining outputs... </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ... flapper::sim_array() call completed (@ 2023-02-19 15:04:47) after ~0 minutes. </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#### Example (2): Simulate coastline and customise plot</span></span></span>
<span class="r-in"><span><span class="co"># ... via add_land and add_sea</span></span></span>
<span class="r-in"><span><span class="va">array</span> <span class="op">&lt;-</span> <span class="fu">sim_array</span><span class="op">(</span>boundaries <span class="op">=</span> <span class="fu">raster</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/raster/man/extent.html" class="external-link">extent</a></span><span class="op">(</span><span class="op">-</span><span class="fl">10</span>, <span class="fl">10</span>, <span class="op">-</span><span class="fl">10</span>, <span class="fl">10</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                   coastline <span class="op">=</span> <span class="st">"simple_random"</span>,</span></span>
<span class="r-in"><span>                   add_land <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>col <span class="op">=</span> <span class="st">"darkgreen"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                   add_sea <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>col <span class="op">=</span> <span class="fu">scales</span><span class="fu">::</span><span class="fu"><a href="https://scales.r-lib.org/reference/alpha.html" class="external-link">alpha</a></span><span class="op">(</span><span class="st">"skyblue"</span>, <span class="fl">0.2</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                   seed <span class="op">=</span> <span class="fl">1</span></span></span>
<span class="r-in"><span>                   <span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> flapper::sim_array() called (@ 2023-02-19 15:04:47)... </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ... Defining area... </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> CRS of area is NA.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ... Incorporating coastline... </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ... ... Simulating coastline... </span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>less than 4 coordinates in polygon</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>GEOS support is provided by the sf and terra packages among others</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ... Incorporating receivers... </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ... ... Simulating receivers... </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ... Plotting array... </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Spatial layers do not have identical CRS strings</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> prettyGraphics::pretty_map() CRS taken as: 'NA'.</span>
<span class="r-plt img"><img src="sim_array-2.png" alt="" width="700" height="433"></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ... Defining outputs... </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ... flapper::sim_array() call completed (@ 2023-02-19 15:04:47) after ~0 minutes. </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#### Example (3): Add custom coastline</span></span></span>
<span class="r-in"><span><span class="va">array</span> <span class="op">&lt;-</span> <span class="fu">sim_array</span><span class="op">(</span>boundaries <span class="op">=</span> <span class="fu">raster</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/raster/man/extent.html" class="external-link">extent</a></span><span class="op">(</span><span class="va">dat_coast</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                   coastline <span class="op">=</span> <span class="va">dat_coast</span>,</span></span>
<span class="r-in"><span>                   add_land <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>col <span class="op">=</span> <span class="st">"darkgreen"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                   add_sea <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>col <span class="op">=</span> <span class="fu">scales</span><span class="fu">::</span><span class="fu"><a href="https://scales.r-lib.org/reference/alpha.html" class="external-link">alpha</a></span><span class="op">(</span><span class="st">"skyblue"</span>, <span class="fl">0.2</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                   seed <span class="op">=</span> <span class="fl">1</span></span></span>
<span class="r-in"><span>                   <span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> flapper::sim_array() called (@ 2023-02-19 15:04:47)... </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ... Defining area... </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ... Incorporating coastline... </span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>GEOS support is provided by the sf and terra packages among others</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ... Incorporating receivers... </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ... ... Simulating receivers... </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ... Plotting array... </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> prettyGraphics::pretty_map() CRS taken as: '+proj=utm +zone=29 +datum=WGS84 +units=m +no_defs'.</span>
<span class="r-plt img"><img src="sim_array-3.png" alt="" width="700" height="433"></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ... Defining outputs... </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ... flapper::sim_array() call completed (@ 2023-02-19 15:04:47) after ~0 minutes. </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#### Example (4): Change the number of receivers</span></span></span>
<span class="r-in"><span><span class="va">array</span> <span class="op">&lt;-</span> <span class="fu">sim_array</span><span class="op">(</span>n_receivers <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> flapper::sim_array() called (@ 2023-02-19 15:04:47)... </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ... Defining area... </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> CRS of area is NA.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ... Incorporating receivers... </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ... ... Simulating receivers... </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ... Plotting array... </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> prettyGraphics::pretty_map() CRS taken as: 'NA'.</span>
<span class="r-plt img"><img src="sim_array-4.png" alt="" width="700" height="433"></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ... Defining outputs... </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ... flapper::sim_array() call completed (@ 2023-02-19 15:04:47) after ~0 minutes. </span>
<span class="r-in"><span><span class="va">array</span> <span class="op">&lt;-</span> <span class="fu">sim_array</span><span class="op">(</span>n_receivers <span class="op">=</span> <span class="fl">25</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> flapper::sim_array() called (@ 2023-02-19 15:04:47)... </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ... Defining area... </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> CRS of area is NA.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ... Incorporating receivers... </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ... ... Simulating receivers... </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ... Plotting array... </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> prettyGraphics::pretty_map() CRS taken as: 'NA'.</span>
<span class="r-plt img"><img src="sim_array-5.png" alt="" width="700" height="433"></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ... Defining outputs... </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ... flapper::sim_array() call completed (@ 2023-02-19 15:04:47) after ~0 minutes. </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#### Example (5): Change the arrangement of receivers</span></span></span>
<span class="r-in"><span><span class="co">## Explore different arrangements</span></span></span>
<span class="r-in"><span><span class="va">array</span> <span class="op">&lt;-</span> <span class="fu">sim_array</span><span class="op">(</span>n_receivers <span class="op">=</span> <span class="fl">25</span>, arrangement <span class="op">=</span> <span class="st">"random"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> flapper::sim_array() called (@ 2023-02-19 15:04:47)... </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ... Defining area... </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> CRS of area is NA.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ... Incorporating receivers... </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ... ... Simulating receivers... </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ... Plotting array... </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> prettyGraphics::pretty_map() CRS taken as: 'NA'.</span>
<span class="r-plt img"><img src="sim_array-6.png" alt="" width="700" height="433"></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ... Defining outputs... </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ... flapper::sim_array() call completed (@ 2023-02-19 15:04:47) after ~0 minutes. </span>
<span class="r-in"><span><span class="va">array</span> <span class="op">&lt;-</span> <span class="fu">sim_array</span><span class="op">(</span>n_receivers <span class="op">=</span> <span class="fl">25</span>, arrangement <span class="op">=</span> <span class="st">"regular"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> flapper::sim_array() called (@ 2023-02-19 15:04:47)... </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ... Defining area... </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> CRS of area is NA.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ... Incorporating receivers... </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ... ... Simulating receivers... </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ... Plotting array... </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> prettyGraphics::pretty_map() CRS taken as: 'NA'.</span>
<span class="r-plt img"><img src="sim_array-7.png" alt="" width="700" height="433"></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ... Defining outputs... </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ... flapper::sim_array() call completed (@ 2023-02-19 15:04:47) after ~0 minutes. </span>
<span class="r-in"><span><span class="va">array</span> <span class="op">&lt;-</span> <span class="fu">sim_array</span><span class="op">(</span>n_receivers <span class="op">=</span> <span class="fl">25</span>, arrangement <span class="op">=</span> <span class="st">"clustered"</span>, nclusters <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> flapper::sim_array() called (@ 2023-02-19 15:04:47)... </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ... Defining area... </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> CRS of area is NA.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ... Incorporating receivers... </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ... ... Simulating receivers... </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ... Plotting array... </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> prettyGraphics::pretty_map() CRS taken as: 'NA'.</span>
<span class="r-plt img"><img src="sim_array-8.png" alt="" width="700" height="433"></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ... Defining outputs... </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ... flapper::sim_array() call completed (@ 2023-02-19 15:04:47) after ~0 minutes. </span>
<span class="r-in"><span><span class="va">array</span> <span class="op">&lt;-</span> <span class="fu">sim_array</span><span class="op">(</span>n_receivers <span class="op">=</span> <span class="fl">25</span>, arrangement <span class="op">=</span> <span class="st">"stratified"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> flapper::sim_array() called (@ 2023-02-19 15:04:47)... </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ... Defining area... </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> CRS of area is NA.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ... Incorporating receivers... </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ... ... Simulating receivers... </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ... Plotting array... </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> prettyGraphics::pretty_map() CRS taken as: 'NA'.</span>
<span class="r-plt img"><img src="sim_array-9.png" alt="" width="700" height="433"></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ... Defining outputs... </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ... flapper::sim_array() call completed (@ 2023-02-19 15:04:47) after ~0 minutes. </span>
<span class="r-in"><span><span class="va">array</span> <span class="op">&lt;-</span> <span class="fu">sim_array</span><span class="op">(</span>n_receivers <span class="op">=</span> <span class="fl">25</span>, arrangement <span class="op">=</span> <span class="st">"nonaligned"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> flapper::sim_array() called (@ 2023-02-19 15:04:47)... </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ... Defining area... </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> CRS of area is NA.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ... Incorporating receivers... </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ... ... Simulating receivers... </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ... Plotting array... </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> prettyGraphics::pretty_map() CRS taken as: 'NA'.</span>
<span class="r-plt img"><img src="sim_array-10.png" alt="" width="700" height="433"></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ... Defining outputs... </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ... flapper::sim_array() call completed (@ 2023-02-19 15:04:47) after ~0 minutes. </span>
<span class="r-in"><span><span class="va">array</span> <span class="op">&lt;-</span> <span class="fu">sim_array</span><span class="op">(</span>n_receivers <span class="op">=</span> <span class="fl">25</span>, arrangement <span class="op">=</span> <span class="st">"hexagonal"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> flapper::sim_array() called (@ 2023-02-19 15:04:47)... </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ... Defining area... </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> CRS of area is NA.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ... Incorporating receivers... </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ... ... Simulating receivers... </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ... Plotting array... </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> prettyGraphics::pretty_map() CRS taken as: 'NA'.</span>
<span class="r-plt img"><img src="sim_array-11.png" alt="" width="700" height="433"></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ... Defining outputs... </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ... flapper::sim_array() call completed (@ 2023-02-19 15:04:47) after ~0 minutes. </span>
<span class="r-in"><span><span class="co">## Force arrangements around coastline</span></span></span>
<span class="r-in"><span><span class="co"># Simulated island</span></span></span>
<span class="r-in"><span><span class="va">array</span> <span class="op">&lt;-</span> <span class="fu">sim_array</span><span class="op">(</span>n_receivers <span class="op">=</span> <span class="fl">25</span>,</span></span>
<span class="r-in"><span>                   coastline <span class="op">=</span> <span class="st">"simple_random"</span>,</span></span>
<span class="r-in"><span>                   arrangement <span class="op">=</span> <span class="st">"regular"</span>,</span></span>
<span class="r-in"><span>                   add_land <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> flapper::sim_array() called (@ 2023-02-19 15:04:47)... </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ... Defining area... </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> CRS of area is NA.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ... Incorporating coastline... </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ... ... Simulating coastline... </span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>less than 4 coordinates in polygon</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>GEOS support is provided by the sf and terra packages among others</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ... Incorporating receivers... </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ... ... Simulating receivers... </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ... Plotting array... </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Spatial layers do not have identical CRS strings</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> prettyGraphics::pretty_map() CRS taken as: 'NA'.</span>
<span class="r-plt img"><img src="sim_array-12.png" alt="" width="700" height="433"></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ... Defining outputs... </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ... flapper::sim_array() call completed (@ 2023-02-19 15:04:47) after ~0 minutes. </span>
<span class="r-in"><span><span class="co"># Real coastline</span></span></span>
<span class="r-in"><span><span class="va">array</span> <span class="op">&lt;-</span> <span class="fu">sim_array</span><span class="op">(</span>boundaries <span class="op">=</span> <span class="fu">raster</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/raster/man/extent.html" class="external-link">extent</a></span><span class="op">(</span><span class="va">dat_coast</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                   n_receivers <span class="op">=</span> <span class="fl">25</span>,</span></span>
<span class="r-in"><span>                   coastline <span class="op">=</span> <span class="va">dat_coast</span>,</span></span>
<span class="r-in"><span>                   arrangement <span class="op">=</span> <span class="st">"regular"</span>,</span></span>
<span class="r-in"><span>                   add_land <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> flapper::sim_array() called (@ 2023-02-19 15:04:47)... </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ... Defining area... </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ... Incorporating coastline... </span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>GEOS support is provided by the sf and terra packages among others</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ... Incorporating receivers... </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ... ... Simulating receivers... </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ... Plotting array... </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> prettyGraphics::pretty_map() CRS taken as: '+proj=utm +zone=29 +datum=WGS84 +units=m +no_defs'.</span>
<span class="r-plt img"><img src="sim_array-13.png" alt="" width="700" height="433"></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ... Defining outputs... </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ... flapper::sim_array() call completed (@ 2023-02-19 15:04:47) after ~0 minutes. </span>
<span class="r-in"><span><span class="co">## Incorporate custom arrangements</span></span></span>
<span class="r-in"><span><span class="co"># Define receiver locations as a SpatialPoints object with a UTM CRS</span></span></span>
<span class="r-in"><span><span class="co"># ... to match other spatial datasets</span></span></span>
<span class="r-in"><span><span class="va">proj_wgs84</span> <span class="op">&lt;-</span> <span class="fu">sp</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/sp/man/CRS-class.html" class="external-link">CRS</a></span><span class="op">(</span>SRS_string <span class="op">=</span> <span class="st">"EPSG:4326"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">proj_utm</span>   <span class="op">&lt;-</span> <span class="fu">sp</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/sp/man/CRS-class.html" class="external-link">CRS</a></span><span class="op">(</span>SRS_string <span class="op">=</span> <span class="st">"EPSG:32629"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">xy</span> <span class="op">&lt;-</span> <span class="fu">sp</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/sp/man/SpatialPoints.html" class="external-link">SpatialPoints</a></span><span class="op">(</span><span class="va">dat_moorings</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"receiver_long"</span>, <span class="st">"receiver_lat"</span><span class="op">)</span><span class="op">]</span>,</span></span>
<span class="r-in"><span>                        <span class="va">proj_wgs84</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">xy</span> <span class="op">&lt;-</span> <span class="fu">sp</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/sp/man/spTransform.html" class="external-link">spTransform</a></span><span class="op">(</span><span class="va">xy</span>, <span class="va">proj_utm</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Make array</span></span></span>
<span class="r-in"><span><span class="va">array</span> <span class="op">&lt;-</span> <span class="fu">sim_array</span><span class="op">(</span>boundaries <span class="op">=</span> <span class="fu">raster</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/raster/man/extent.html" class="external-link">extent</a></span><span class="op">(</span><span class="va">dat_coast</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                   coastline <span class="op">=</span> <span class="va">dat_coast</span>,</span></span>
<span class="r-in"><span>                   arrangement <span class="op">=</span> <span class="va">xy</span>,</span></span>
<span class="r-in"><span>                   add_land <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span>                   <span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> flapper::sim_array() called (@ 2023-02-19 15:04:47)... </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ... Defining area... </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ... Incorporating coastline... </span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>GEOS support is provided by the sf and terra packages among others</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ... Incorporating receivers... </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ... Plotting array... </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> prettyGraphics::pretty_map() CRS taken as: '+proj=utm +zone=29 +datum=WGS84 +units=m +no_defs'.</span>
<span class="r-plt img"><img src="sim_array-14.png" alt="" width="700" height="433"></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ... Defining outputs... </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ... flapper::sim_array() call completed (@ 2023-02-19 15:04:47) after ~0 minutes. </span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Edward Lavender.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

