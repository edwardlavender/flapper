<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Get detection container overlaps — get_detection_containers_overlap • flapper</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Get detection container overlaps — get_detection_containers_overlap"><meta property="og:description" content="This functions identifies receivers with overlapping detection containers in space and time."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">flapper</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/flapper_algorithms_faqs.html">`flapper`: practitioner FAQs</a>
    </li>
    <li>
      <a href="../articles/flapper_overview.html">`flapper`: an overview</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/edwardlavender/flapper/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Get detection container overlaps</h1>
    <small class="dont-index">Source: <a href="https://github.com/edwardlavender/flapper/blob/HEAD/R/get_detections.R" class="external-link"><code>R/get_detections.R</code></a></small>
    <div class="hidden name"><code>get_detection_containers_overlap.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This functions identifies receivers with overlapping detection containers in space and time.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">get_detection_containers_overlap</span><span class="op">(</span><span class="va">containers</span>, services <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>containers</dt>
<dd><p>A <code><a href="https://rdrr.io/pkg/sp/man/SpatialPolygons.html" class="external-link">SpatialPolygonsDataFrame</a></code> that defines detection containers (see <code><a href="get_detection_containers.html">get_detection_containers</a></code>). The <code>data</code> slot must include a dataframe with the following columns: an unique, integer identifier for each receiver (`receiver_id') and receiver deployment <code><a href="https://rdrr.io/r/base/Dates.html" class="external-link">Dates</a></code> (`receiver_start_date' and `receiver_end_date').</p></dd>


<dt>services</dt>
<dd><p>(optional) A dataframe that defines receiver IDs and servicing <code><a href="https://rdrr.io/r/base/Dates.html" class="external-link">Dates</a></code> (times during the deployment period of a receiver when it was not active due to servicing). If provided, this must contain the following columns: an integer identifier for serviced receivers (named ‘receiver_id’) and two columns that define the time of the service(s) (‘service_start_date’ and ‘service_end_date’) (see <code><a href="make_matrix_receivers.html">make_matrix_receivers</a></code>).</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>The function returns a list with two elements:</p><ul><li><p><strong>overlap_by_receiver</strong> is list, with one element for all integers from <code>1:max(containers$receiver_id)</code>. Any elements that do not correspond to receivers contain a NULL element. List elements that correspond to receivers contain a dataframe that defines, for each day over the deployment period (defined in `timestamp') of that receiver (defined in `receiver_id'), whether (1) or not (0) that receiver overlapped in space with every other receiver (defined in the remaining columns by their receiver IDs).</p></li>
<li><p><strong>overlap_by_date</strong> is a named list, with one element for each date from the start until the end of the study (<code>min(containers$receiver_start_date):max(containers$receiver_end_date)</code>), that records an integer vector of all receivers with overlapping containers on that date. In this vector, each receiver overlaps with at least one other receiver (but not every receiver will necessarily overlap with every other receiver).</p></li>
</ul></div>
    <div id="details">
    <h2>Details</h2>
    <p>This function requires the <code><a href="https://tidyr.tidyverse.org/reference/tidyr-package.html" class="external-link">tidyr-package</a></code> (specifically <code><a href="https://tidyr.tidyverse.org/reference/pivot_longer.html" class="external-link">pivot_longer</a></code>).</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="get_detection_containers.html">get_detection_containers</a></code> creates detection containers.</p></div>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Edward Lavender</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co">#### Define receiver containers</span></span></span>
<span class="r-in"><span><span class="co">## Define receiver locations as a SpatialPoints object with a UTM CRS</span></span></span>
<span class="r-in"><span><span class="va">proj_wgs84</span> <span class="op">&lt;-</span> <span class="fu">sp</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/sp/man/CRS-class.html" class="external-link">CRS</a></span><span class="op">(</span>SRS_string <span class="op">=</span> <span class="st">"EPSG:4326"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">proj_utm</span> <span class="op">&lt;-</span> <span class="fu">sp</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/sp/man/CRS-class.html" class="external-link">CRS</a></span><span class="op">(</span>SRS_string <span class="op">=</span> <span class="st">"EPSG:32629"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">rownames</a></span><span class="op">(</span><span class="va">dat_moorings</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">dat_moorings</span><span class="op">$</span><span class="va">receiver_id</span></span></span>
<span class="r-in"><span><span class="va">xy</span> <span class="op">&lt;-</span> <span class="fu">sp</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/sp/man/SpatialPoints.html" class="external-link">SpatialPoints</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">dat_moorings</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"receiver_long"</span>, <span class="st">"receiver_lat"</span><span class="op">)</span><span class="op">]</span>,</span></span>
<span class="r-in"><span>  <span class="va">proj_wgs84</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">xy</span> <span class="op">&lt;-</span> <span class="fu">sp</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/sp/man/spTransform.html" class="external-link">spTransform</a></span><span class="op">(</span><span class="va">xy</span>, <span class="va">proj_utm</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">xy</span><span class="op">@</span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame</a></span><span class="op">(</span><span class="va">xy</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">rownames</a></span><span class="op">(</span><span class="va">xy</span><span class="op">@</span><span class="va">data</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">dat_moorings</span><span class="op">$</span><span class="va">receiver_id</span></span></span>
<span class="r-in"><span><span class="co">## Get receiver-specific detection containers</span></span></span>
<span class="r-in"><span><span class="co"># ... via get_detection_containers with byid = TRUE</span></span></span>
<span class="r-in"><span><span class="va">containers</span> <span class="op">&lt;-</span> <span class="fu"><a href="get_detection_containers.html">get_detection_containers</a></span><span class="op">(</span><span class="va">xy</span>, byid <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>GEOS support is provided by the sf and terra packages among others</span>
<span class="r-plt img"><img src="get_detection_containers_overlap-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="co">## Link detection containers with receiver IDs and deployment dates</span></span></span>
<span class="r-in"><span><span class="co"># ... in a SpatialPointsDataFrame, as required for this function.</span></span></span>
<span class="r-in"><span><span class="va">containers_df</span> <span class="op">&lt;-</span> <span class="va">dat_moorings</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="st">"receiver_id"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"receiver_start_date"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"receiver_end_date"</span></span></span>
<span class="r-in"><span><span class="op">)</span><span class="op">]</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/row.names.html" class="external-link">row.names</a></span><span class="op">(</span><span class="va">containers_df</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">dat_moorings</span><span class="op">$</span><span class="va">receiver_id</span></span></span>
<span class="r-in"><span><span class="va">containers</span> <span class="op">&lt;-</span> <span class="fu">sp</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/sp/man/SpatialPolygons.html" class="external-link">SpatialPolygonsDataFrame</a></span><span class="op">(</span><span class="va">containers</span>, <span class="va">containers_df</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Simulate some receiver 'servicing' dates for demonstration purposes</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Loop over each receiver...</span></span></span>
<span class="r-in"><span><span class="va">services_by_receiver</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/split.html" class="external-link">split</a></span><span class="op">(</span><span class="va">dat_moorings</span>, <span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">dat_moorings</span><span class="op">)</span><span class="op">)</span>, <span class="kw">function</span><span class="op">(</span><span class="va">din</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="co"># For the receiver, simulate the number of servicing events</span></span></span>
<span class="r-in"><span>  <span class="va">n</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fl">0</span><span class="op">:</span><span class="fl">3</span>, <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="va">dout</span> <span class="op">&lt;-</span> <span class="cn">NULL</span></span></span>
<span class="r-in"><span>  <span class="kw">if</span> <span class="op">(</span><span class="va">n</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>    <span class="co"># simulate the timing of servicing events</span></span></span>
<span class="r-in"><span>    <span class="va">dates</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">min</a></span><span class="op">(</span><span class="va">din</span><span class="op">$</span><span class="va">receiver_start_date</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="va">din</span><span class="op">$</span><span class="va">receiver_end_date</span><span class="op">)</span>, <span class="st">"days"</span><span class="op">)</span>, <span class="va">n</span><span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="va">dout</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>      receiver_id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="va">din</span><span class="op">$</span><span class="va">receiver_id</span>, <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">dates</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>      service_start_date <span class="op">=</span> <span class="va">dates</span>,</span></span>
<span class="r-in"><span>      service_end_date <span class="op">=</span> <span class="va">dates</span></span></span>
<span class="r-in"><span>    <span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">}</span></span></span>
<span class="r-in"><span>  <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="va">dout</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">services</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/do.call.html" class="external-link">do.call</a></span><span class="op">(</span><span class="va">rbind</span>, <span class="va">services_by_receiver</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">rownames</a></span><span class="op">(</span><span class="va">services</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="cn">NULL</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">services</span><span class="op">)</span> <span class="op">==</span> <span class="fl">0</span><span class="op">)</span> <span class="va">services</span> <span class="op">&lt;-</span> <span class="cn">NULL</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#### Example (1): Implement function using containers alone</span></span></span>
<span class="r-in"><span><span class="va">overlaps_1</span> <span class="op">&lt;-</span> <span class="fu">get_detection_containers_overlap</span><span class="op">(</span>containers <span class="op">=</span> <span class="va">containers</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">overlaps_1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                  Length Class  Mode</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> list_by_receiver  57    -none- list</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> list_by_date     457    -none- list</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#### Example (2): Account for servicing dates</span></span></span>
<span class="r-in"><span><span class="va">overlaps_2</span> <span class="op">&lt;-</span> <span class="fu">get_detection_containers_overlap</span><span class="op">(</span></span></span>
<span class="r-in"><span>  containers <span class="op">=</span> <span class="va">containers</span>,</span></span>
<span class="r-in"><span>  services <span class="op">=</span> <span class="va">services</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Examine the first few simulated servicing events</span></span></span>
<span class="r-in"><span><span class="va">services</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span>, <span class="op">]</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   receiver_id service_start_date service_end_date</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1           4         2016-08-16       2016-08-16</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2           4         2016-07-09       2016-07-09</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3           4         2016-12-26       2016-12-26</span>
<span class="r-in"><span><span class="co"># Show that the list_by_date element for the first servicing event</span></span></span>
<span class="r-in"><span><span class="co"># ... includes the first receiver in services$receiver_id</span></span></span>
<span class="r-in"><span><span class="co"># ... for overlaps_1 but not overlaps_2,</span></span></span>
<span class="r-in"><span><span class="co"># ... which accounts for that fact that the receiver was serviced then:</span></span></span>
<span class="r-in"><span><span class="va">overlaps_1</span><span class="op">$</span><span class="va">list_by_date</span><span class="op">[[</span><span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">services</span><span class="op">$</span><span class="va">service_start_date</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span><span class="op">]</span><span class="op">]</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1]  3  9 12 40  4 24 23 26 20 18 21 31</span>
<span class="r-in"><span><span class="va">overlaps_2</span><span class="op">$</span><span class="va">list_by_date</span><span class="op">[[</span><span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">services</span><span class="op">$</span><span class="va">service_start_date</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span><span class="op">]</span><span class="op">]</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1]  3  9 24 23 26 20 18 21 31</span>
<span class="r-in"><span><span class="co"># Likewise, show that the list_by_receiver element for that receiver</span></span></span>
<span class="r-in"><span><span class="co"># ... includes overlapping receivers in overlaps_1 but not overlaps_2:</span></span></span>
<span class="r-in"><span><span class="va">r_id</span> <span class="op">&lt;-</span> <span class="va">services</span><span class="op">$</span><span class="va">receiver_id</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span></span></span>
<span class="r-in"><span><span class="va">overlaps_1</span><span class="op">$</span><span class="va">list_by_receiver</span><span class="op">[[</span><span class="va">r_id</span><span class="op">]</span><span class="op">]</span><span class="op">[</span><span class="va">overlaps_1</span><span class="op">$</span><span class="va">list_by_receiver</span><span class="op">[[</span><span class="va">r_id</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">timestamp</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span></span></span>
<span class="r-in"><span>  <span class="va">services</span><span class="op">$</span><span class="va">service_start_date</span><span class="op">[</span><span class="va">services</span><span class="op">$</span><span class="va">receiver_id</span> <span class="op">==</span> <span class="va">r_id</span><span class="op">]</span>, <span class="op">]</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             timestamp receiver_id 3 7 9 11 12 14 18 20 21 23 24 26 27 29 30 31</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2016-07-09 2016-07-09           4 0 0 0  0  1  0  0  0  0  0  0  0  0  0  0  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2016-08-16 2016-08-16           4 0 0 0  0  1  0  0  0  0  0  0  0  0  0  0  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2016-12-26 2016-12-26           4 0 0 0  0  1  0  0  0  0  0  0  0  0  0  0  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            33 35 36 37 38 39 40 41 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2016-07-09  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2016-08-16  0  0  0  0  0  0  1  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2016-12-26  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0</span>
<span class="r-in"><span><span class="va">overlaps_2</span><span class="op">$</span><span class="va">list_by_receiver</span><span class="op">[[</span><span class="va">r_id</span><span class="op">]</span><span class="op">]</span><span class="op">[</span><span class="va">overlaps_2</span><span class="op">$</span><span class="va">list_by_receiver</span><span class="op">[[</span><span class="va">r_id</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">timestamp</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span></span></span>
<span class="r-in"><span>  <span class="va">services</span><span class="op">$</span><span class="va">service_start_date</span><span class="op">[</span><span class="va">services</span><span class="op">$</span><span class="va">receiver_id</span> <span class="op">==</span> <span class="va">r_id</span><span class="op">]</span>, <span class="op">]</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             timestamp receiver_id 3 7 9 11 12 14 18 20 21 23 24 26 27 29 30 31</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2016-07-09 2016-07-09           4 0 0 0  0  0  0  0  0  0  0  0  0  0  0  0  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2016-08-16 2016-08-16           4 0 0 0  0  0  0  0  0  0  0  0  0  0  0  0  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2016-12-26 2016-12-26           4 0 0 0  0  0  0  0  0  0  0  0  0  0  0  0  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            33 35 36 37 38 39 40 41 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2016-07-09  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2016-08-16  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2016-12-26  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Edward Lavender.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

