<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Compute a detection history similarity matrix — make_matrix_cooccurence • flapper</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Compute a detection history similarity matrix — make_matrix_cooccurence"><meta property="og:description" content="The function computes a detection history similarity matrix. For all combinations of individuals, this shows the total number (or percentage) of detections `nearby' in space and time, which can help to elucidate possible interactions among individuals that affect space use (see Details). To compute this matrix, the function pairs detections for each individual with the detections nearest in time for each other individual. The function computes the time (minutes) between paired detection time series, and the distance (m) between the receiver(s) at which paired detections occurred, dropping any detection pairs that are further apart in time or space than user-defined thresholds (which depend on the mobility of the species under investigation). For each combination of individuals, the function returns total number (or percentage) of detections that are closely associated in time and space. For very large combinations of individuals, especially those with long, overlapping time series, the function may take some time to run; therefore, testing the function on a small subset of individuals first is advisable. Parallelisation can be used to improve computation time. Similarity matrices can be visualised with pretty_mat."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">flapper</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/flapper_algorithms_faqs.html">`flapper`: practitioner FAQs</a>
    </li>
    <li>
      <a href="../articles/flapper_overview.html">`flapper`: an overview</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/edwardlavender/flapper/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Compute a detection history similarity matrix</h1>
    <small class="dont-index">Source: <a href="https://github.com/edwardlavender/flapper/blob/HEAD/R/make_matrices.R" class="external-link"><code>R/make_matrices.R</code></a></small>
    <div class="hidden name"><code>make_matrix_cooccurence.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>The function computes a detection history similarity matrix. For all combinations of individuals, this shows the total number (or percentage) of detections `nearby' in space and time, which can help to elucidate possible interactions among individuals that affect space use (see Details). To compute this matrix, the function pairs detections for each individual with the detections nearest in time for each other individual. The function computes the time (minutes) between paired detection time series, and the distance (m) between the receiver(s) at which paired detections occurred, dropping any detection pairs that are further apart in time or space than user-defined thresholds (which depend on the mobility of the species under investigation). For each combination of individuals, the function returns total number (or percentage) of detections that are closely associated in time and space. For very large combinations of individuals, especially those with long, overlapping time series, the function may take some time to run; therefore, testing the function on a small subset of individuals first is advisable. Parallelisation can be used to improve computation time. Similarity matrices can be visualised with <code><a href="https://edwardlavender.github.io/prettyGraphics/reference/pretty_mat.html" class="external-link">pretty_mat</a></code>.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">make_matrix_cooccurence</span><span class="op">(</span></span>
<span>  <span class="va">acoustics_ls</span>,</span>
<span>  <span class="va">thresh_time</span>,</span>
<span>  <span class="va">thresh_dist</span>,</span>
<span>  cl <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  varlist <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  output <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>acoustics_ls</dt>
<dd><p>A list of dataframes, with one element for each individual, which contains each individual's detection time series. Each dataframe must include the following columns: `individual_id', a factor which specifies unique individuals; `timestamp', a POSIXct object which specifies the time of each detection; `receiver_long', the longitude (decimal degrees) of the receiver(s) at the individual was detected; and `receiver_lat', the latitude (decimal degrees) of the receiver(s) at which individual was detected. Each dataframe should be ordered by `individual_id' and then by `timestamp'. Careful ordering of `individual_id' factor levels (e.g. perhaps by population group, then by the number of detections of each individual) can aid visualisation of similarity matrices, in which the order or rows/columns corresponds directly to the order of individuals in <code>acoustics_ls</code>. Sequential elements in <code>acoustics_ls</code> should correspond to sequential factor levels for `individual_id', which should be the same across all dataframes.</p></dd>


<dt>thresh_time</dt>
<dd><p>A number which specifies the time, in minutes, after which detections at nearby receivers are excluded.</p></dd>


<dt>thresh_dist</dt>
<dd><p>A number which specifies the (Euclidean) distance between receivers, in metres, beyond which detections are excluded (see Details).</p></dd>


<dt>cl, varlist</dt>
<dd><p>(optional) <code>cl</code> is (a) a cluster object from <code><a href="https://rdrr.io/r/parallel/makeCluster.html" class="external-link">makeCluster</a></code> or (b) an integer that defines the number of child processes. <code>varlist</code> is a character vector of variables for export (see <code><a href="cl.html">cl_export</a></code>). Exported variables must be located in the global environment. If a cluster is supplied, the connection to the cluster is closed within the function (see <code><a href="cl.html">cl_stop</a></code>). For further information, see <code><a href="cl.html">cl_lapply</a></code> and <code><a href="flapper-tips-parallel.html">flapper-tips-parallel</a></code>.</p></dd>


<dt>output</dt>
<dd><p>A number which specifies the output type. If <code>output = 1</code>, the function returns a (usually) symmetric similarity matrix in which each number represents the number of detections nearby in space and time for each pair of individuals. Row and column names are assigned from the `individual_id' column in <code>acoustics_ls</code> dataframes. This matrix is usually symmetric, but this is not necessarily the case for data collected from tags which transmit at random intervals around a nominal delay: under this scenario, the tag for a given individual (i) may transmit multiple signals in the space of time that the tag for another individual (j) only releases a single transmission. In this case, the pairing i,j will comprise all unique transmissions for individual i, paired with the nearest observations for individual j, some of which will be duplicate observations. Therefore, this pairing will contain more `shared observations' than the pairing j,i. However, even under random transmission, the matrix will usually be either symmetric or very nearly symmetric, with only small differences between identical pairs. If <code>output = 2</code>, the function returns a list with the following elements: (1) `mat_sim', the symmetric similarity matrix (see above); `mat_nobs', a matrix with the same dimensions as `mat_sim' which specifies the number of observations for each individual (by row, used to calculate `mat_pc', see later); `mat_pc', a non-symmetric matrix in which each cell represents the percent of observations of the individual in the i'th row that are shared with the individual in the j'th column; and `dat', a nested list, with one element for each individual which comprises a list of dataframes, one for each other individual, each one of which contains the subset of observations that are shared between the two individuals. Each dataframe contains the same columns as in the <code>acoustics_ls</code> dataframes with the following columns added: `pos_in_acc2', `timestamp_acc2', `receiver_lat_acc2' and `receiver_long_acc2', which represent the positions, time stamps and locations of corresponding observations in the second individual's dataframe to the first individual's dataframe, and `difftime_abs' and `dist_btw_receivers' which represent the duration (minutes) and distances (m) between corresponding observations. When there are no shared observations between a pair of individuals, the element simply contains <code>NULL</code>. Note that `mat_pc' is computed by (mat_sim/mat_nobs)*100. The matrix is therefore non-symmetric (if individuals have differing numbers of observations); i.e., mat_pc[i, j] is the percent of individual i's observations that are shared with individual j; while mat_pc[j, i] is the percent of individual j's observations that are shared with individual i. NaN elements are possible in `mat_pc' for levels of the factor `individual_id' without observations.</p></dd>


<dt>verbose</dt>
<dd><p>A logical input which specifies whether or not to print messages to the console which relay function progress.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>The function returns a matrix or a list, depending on the input to <code>output</code> (see above).</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    
<div class="section">
<h3 id="background">Background<a class="anchor" aria-label="anchor" href="#background"></a></h3>
<p>Passive acoustic telemetry is widely used to study animal space use, and the possible drivers of spatiotemporal patterns in space use, in aquatic environments. Patterns in space use are widely related to environmental conditions, such as temperature, but the role of interactions among individuals is often more challenging to investigate due to a paucity of data, despite their likely importance. However, discrete detections also contain information on interactions among individuals that may influence space use through their similarities and differences among individuals over time and space.</p>
</div>

<div class="section">
<h3 id="implications">Implications<a class="anchor" aria-label="anchor" href="#implications"></a></h3>
<p>Similarities and differences can take different forms with differing ecological implications. For example, for individuals that are frequently detected in similar areas, detections may indicate (a) prolonged associations among individuals, if detections are usually closely associated in time and space (for example, due to parent-offspring relationships, group-living and/or mating); or (b) avoidance and/or territorial-like behaviour if detections, while close in space, are usually at different receivers and/or disjointed in time. Likewise, detection similarities among individuals that are rarely detected, or usually detected at disparate receivers, may reflect important interactions among those individuals at particular times (e.g. mating).</p>
</div>

<div class="section">
<h3 id="methods">Methods<a class="anchor" aria-label="anchor" href="#methods"></a></h3>
<p>To explore similarities and differences in patterns of space use, visualisation of detection histories with abacus plots and maps is beneficial. However, with many individuals and large receiver arrays, quantification of the similarities in detections over time and space is challenging. To this end, <code>make_matrix_cooccurence</code> computes a similarity matrix across all individuals, defining the number (or percentage) of detections for each individual that are nearby in time, or space, to detections for each other individual.</p>
</div>

<div class="section">
<h3 id="assumptions">Assumptions<a class="anchor" aria-label="anchor" href="#assumptions"></a></h3>
<p>The distances beyond which detections of different individuals nearby in time are considered to demonstrate that those individuals are not closely associated are Euclidean. This may be problematic (e.g. when receivers hug complex coastlines).</p>
</div>

    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Edward Lavender</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co">#### Prepare data</span></span></span>
<span class="r-in"><span><span class="co"># acoustics_ls requires a dataframe with certain columns</span></span></span>
<span class="r-in"><span><span class="co"># individual_id should be a factor</span></span></span>
<span class="r-in"><span><span class="va">dat_acoustics</span><span class="op">$</span><span class="va">individual_id</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">dat_acoustics</span><span class="op">$</span><span class="va">individual_id</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># ensure dataframe ordered by individual, then time stamp</span></span></span>
<span class="r-in"><span><span class="va">dat_acoustics</span> <span class="op">&lt;-</span> <span class="va">dat_acoustics</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/order.html" class="external-link">order</a></span><span class="op">(</span><span class="va">dat_acoustics</span><span class="op">$</span><span class="va">individual_id</span>, <span class="va">dat_acoustics</span><span class="op">$</span><span class="va">timestamp</span><span class="op">)</span>, <span class="op">]</span></span></span>
<span class="r-in"><span><span class="co"># define list of dataframes</span></span></span>
<span class="r-in"><span><span class="va">acoustics_ls</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/split.html" class="external-link">split</a></span><span class="op">(</span><span class="va">dat_acoustics</span>, <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">dat_acoustics</span><span class="op">$</span><span class="va">individual_id</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#### Example (1): Compute detection similarity matrix using default options</span></span></span>
<span class="r-in"><span><span class="co"># mat_sim contains the number of observations shared among individuals</span></span></span>
<span class="r-in"><span><span class="va">mat_sim</span> <span class="op">&lt;-</span> <span class="fu">make_matrix_cooccurence</span><span class="op">(</span></span></span>
<span class="r-in"><span>  acoustics_ls <span class="op">=</span> <span class="va">acoustics_ls</span>,</span></span>
<span class="r-in"><span>  thresh_time <span class="op">=</span> <span class="fl">90</span>,</span></span>
<span class="r-in"><span>  thresh_dist <span class="op">=</span> <span class="fl">0</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ===================================================================================</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Individual ( 25 ) and individual ( 28 ).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Matching detection time series...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Processing time series by theshold time difference...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Computing differences between pairs of receivers...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Processing time series by threshold distance...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ===================================================================================</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Individual ( 25 ) and individual ( 35 ).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Matching detection time series...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Processing time series by theshold time difference...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Computing differences between pairs of receivers...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Processing time series by threshold distance...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ===================================================================================</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Individual ( 28 ) and individual ( 25 ).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Matching detection time series...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Processing time series by theshold time difference...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Computing differences between pairs of receivers...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Processing time series by threshold distance...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ===================================================================================</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Individual ( 28 ) and individual ( 35 ).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Matching detection time series...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Processing time series by theshold time difference...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Computing differences between pairs of receivers...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Processing time series by threshold distance...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ===================================================================================</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Individual ( 35 ) and individual ( 25 ).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Matching detection time series...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Processing time series by theshold time difference...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Computing differences between pairs of receivers...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Processing time series by threshold distance...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ===================================================================================</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Individual ( 35 ) and individual ( 28 ).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Matching detection time series...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Processing time series by theshold time difference...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Computing differences between pairs of receivers...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Processing time series by threshold distance...</span>
<span class="r-in"><span><span class="fu">prettyGraphics</span><span class="fu">::</span><span class="fu"><a href="https://edwardlavender.github.io/prettyGraphics/reference/pretty_mat.html" class="external-link">pretty_mat</a></span><span class="op">(</span><span class="va">mat_sim</span>, col_diag <span class="op">=</span> <span class="st">"dimgrey"</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="make_matrix_cooccurence-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#### Example (2): Return list of outputs</span></span></span>
<span class="r-in"><span><span class="va">out_ls</span> <span class="op">&lt;-</span> <span class="fu">make_matrix_cooccurence</span><span class="op">(</span></span></span>
<span class="r-in"><span>  acoustics_ls <span class="op">=</span> <span class="va">acoustics_ls</span>,</span></span>
<span class="r-in"><span>  thresh_time <span class="op">=</span> <span class="fl">90</span>,</span></span>
<span class="r-in"><span>  thresh_dist <span class="op">=</span> <span class="fl">0</span>,</span></span>
<span class="r-in"><span>  output <span class="op">=</span> <span class="fl">2</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ===================================================================================</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Individual ( 25 ) and individual ( 28 ).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Matching detection time series...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Processing time series by theshold time difference...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Computing differences between pairs of receivers...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Processing time series by threshold distance...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ===================================================================================</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Individual ( 25 ) and individual ( 35 ).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Matching detection time series...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Processing time series by theshold time difference...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Computing differences between pairs of receivers...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Processing time series by threshold distance...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ===================================================================================</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Individual ( 28 ) and individual ( 25 ).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Matching detection time series...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Processing time series by theshold time difference...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Computing differences between pairs of receivers...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Processing time series by threshold distance...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ===================================================================================</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Individual ( 28 ) and individual ( 35 ).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Matching detection time series...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Processing time series by theshold time difference...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Computing differences between pairs of receivers...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Processing time series by threshold distance...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ===================================================================================</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Individual ( 35 ) and individual ( 25 ).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Matching detection time series...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Processing time series by theshold time difference...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Computing differences between pairs of receivers...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Processing time series by threshold distance...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ===================================================================================</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Individual ( 35 ) and individual ( 28 ).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Matching detection time series...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Processing time series by theshold time difference...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Computing differences between pairs of receivers...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Processing time series by threshold distance...</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">out_ls</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "mat_sim"  "mat_nobs" "mat_pc"   "dat"     </span>
<span class="r-in"><span><span class="co"># Examine number of observations for each individual</span></span></span>
<span class="r-in"><span><span class="fu">prettyGraphics</span><span class="fu">::</span><span class="fu"><a href="https://edwardlavender.github.io/prettyGraphics/reference/pretty_mat.html" class="external-link">pretty_mat</a></span><span class="op">(</span><span class="va">out_ls</span><span class="op">$</span><span class="va">mat_nobs</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="make_matrix_cooccurence-2.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="co"># Examine % shared detections between individuals</span></span></span>
<span class="r-in"><span><span class="fu">prettyGraphics</span><span class="fu">::</span><span class="fu"><a href="https://edwardlavender.github.io/prettyGraphics/reference/pretty_mat.html" class="external-link">pretty_mat</a></span><span class="op">(</span><span class="va">out_ls</span><span class="op">$</span><span class="va">mat_pc</span>, col_diag <span class="op">=</span> <span class="st">"dimgrey"</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="make_matrix_cooccurence-3.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#### Example (3): Turn off messages with verbose = FALSE</span></span></span>
<span class="r-in"><span><span class="va">out_ls_non_verb</span> <span class="op">&lt;-</span> <span class="fu">make_matrix_cooccurence</span><span class="op">(</span></span></span>
<span class="r-in"><span>  acoustics_ls <span class="op">=</span> <span class="va">acoustics_ls</span>,</span></span>
<span class="r-in"><span>  thresh_time <span class="op">=</span> <span class="fl">90</span>,</span></span>
<span class="r-in"><span>  thresh_dist <span class="op">=</span> <span class="fl">0</span>,</span></span>
<span class="r-in"><span>  verbose <span class="op">=</span> <span class="cn">FALSE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#### Example (4): Implement algorithm in parallel</span></span></span>
<span class="r-in"><span><span class="va">out_ls_pl</span> <span class="op">&lt;-</span> <span class="fu">make_matrix_cooccurence</span><span class="op">(</span></span></span>
<span class="r-in"><span>  acoustics_ls <span class="op">=</span> <span class="va">acoustics_ls</span>,</span></span>
<span class="r-in"><span>  thresh_time <span class="op">=</span> <span class="fl">90</span>,</span></span>
<span class="r-in"><span>  thresh_dist <span class="op">=</span> <span class="fl">0</span>,</span></span>
<span class="r-in"><span>  cl <span class="op">=</span> <span class="fu">parallel</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/parallel/makeCluster.html" class="external-link">makeCluster</a></span><span class="op">(</span><span class="fl">2L</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  output <span class="op">=</span> <span class="fl">2</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">out_ls_pl</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "mat_sim"  "mat_nobs" "mat_pc"   "dat"     </span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Edward Lavender.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

