<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Plot AC* container dynamics — acdc_plot_trace • flapper</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Plot AC* container dynamics — acdc_plot_trace" />
<meta property="og:description" content="This function visually reconstructs the dynamics of an acoustic-container* (AC*) algorithm (i.e., ac or acdc).
To implement the function, an acdc_record-class object (record) from ac or acdc plus acdc_simplify that defines the outputs of the AC* algorithm is required. A SpatialPointsDataFrame that defines receiver locations and a matrix that defines the daily operational status of each receiver are also required.
For each time step, the function plots the probability surface, the receiver(s) at which the individual was detected and the acoustic containers, illustrating how the expansion, contraction and intersection of acoustic containers capture the set of possible locations for an individual through time." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">flapper</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/flapper.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/edwardlavender/flapper/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Plot AC* container dynamics</h1>
    <small class="dont-index">Source: <a href='https://github.com/edwardlavender/flapper/blob/master/R/acdc_analyse_record.R'><code>R/acdc_analyse_record.R</code></a></small>
    <div class="hidden name"><code>acdc_plot_trace.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function visually reconstructs the dynamics of an acoustic-container* (AC*) algorithm (i.e., <code><a href='ac.html'>ac</a></code> or <code><a href='acdc.html'>acdc</a></code>).</p>
<p>To implement the function, an <code><a href='acdc_record-class.html'>acdc_record-class</a></code> object (<code>record</code>) from <code><a href='ac.html'>ac</a></code> or <code><a href='acdc.html'>acdc</a></code> plus <code><a href='acdc_simplify.html'>acdc_simplify</a></code> that defines the outputs of the AC* algorithm is required. A <code><a href='https://rdrr.io/pkg/sp/man/SpatialPoints.html'>SpatialPointsDataFrame</a></code> that defines receiver locations and a matrix that defines the daily operational status of each receiver are also required.</p>
<p>For each time step, the function plots the probability surface, the receiver(s) at which the individual was detected and the acoustic containers, illustrating how the expansion, contraction and intersection of acoustic containers capture the set of possible locations for an individual through time.</p>
    </div>

    <pre class="usage"><span class='fu'>acdc_plot_trace</span><span class='op'>(</span>
  <span class='va'>record</span>,
  plot <span class='op'>=</span> <span class='cn'>NULL</span>,
  <span class='va'>moorings</span>,
  <span class='va'>moorings_matrix</span>,
  add_raster <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='op'>)</span>,
  add_receiver_1 <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>pch <span class='op'>=</span> <span class='fl'>4</span>, lwd <span class='op'>=</span> <span class='fl'>4</span>, col <span class='op'>=</span> <span class='st'>"darkgreen"</span><span class='op'>)</span>,
  add_receiver_2 <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>pch <span class='op'>=</span> <span class='fl'>4</span>, lwd <span class='op'>=</span> <span class='fl'>2</span>, col <span class='op'>=</span> <span class='st'>"darkorange"</span><span class='op'>)</span>,
  add_receiver_3 <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>pch <span class='op'>=</span> <span class='fl'>4</span>, lwd <span class='op'>=</span> <span class='fl'>1</span>, col <span class='op'>=</span> <span class='st'>"darkred"</span><span class='op'>)</span>,
  add_receiver_n <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>pch <span class='op'>=</span> <span class='fl'>4</span>, lwd <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span>,
  add_container_ap <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>col <span class='op'>=</span> <span class='st'>"darkgreen"</span><span class='op'>)</span>,
  add_container_an <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>col <span class='op'>=</span> <span class='st'>"darkgreen"</span><span class='op'>)</span>,
  add_container_b <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>col <span class='op'>=</span> <span class='st'>"darkorange"</span><span class='op'>)</span>,
  add_container_c <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>col <span class='op'>=</span> <span class='fu'>scales</span><span class='fu'>::</span><span class='fu'><a href='https://scales.r-lib.org/reference/alpha.html'>alpha</a></span><span class='op'>(</span><span class='st'>"forestgreen"</span>, <span class='fl'>0.5</span><span class='op'>)</span>, density <span class='op'>=</span> <span class='fl'>20</span><span class='op'>)</span>,
  add_coastline <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='op'>)</span>,
  add_main <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='op'>)</span>,
  <span class='va'>...</span>,
  par_param <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='op'>)</span>,
  png_param <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='op'>)</span>,
  prompt <span class='op'>=</span> <span class='cn'>TRUE</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>record</th>
      <td><p>A <code><a href='acdc_record-class.html'>acdc_record-class</a></code> object from <code><a href='ac.html'>ac</a></code> or <code><a href='acdc.html'>acdc</a></code> plus <code><a href='acdc_simplify.html'>acdc_simplify</a></code>.</p></td>
    </tr>
    <tr>
      <th>plot</th>
      <td><p>An integer vector that defines the time steps for which to make plots. If <code>plot = NULL</code>, the function will make a plot for all time steps for which the necessary information is available in <code>record</code>.</p></td>
    </tr>
    <tr>
      <th>moorings</th>
      <td><p>A <code><a href='https://rdrr.io/pkg/sp/man/SpatialPoints.html'>SpatialPointsDataFrame</a></code> that defines receiver locations (in the Universe Transverse Mercator coordinate reference system) and receiver IDs (in a column named `receiver_id').</p></td>
    </tr>
    <tr>
      <th>moorings_matrix</th>
      <td><p>A matrix that defines, for each day of the study (rows) and each receiver (columns), receivers' operational status (see <code><a href='make_matrix_receivers.html'>make_matrix_receivers</a></code>).</p></td>
    </tr>
    <tr>
      <th>add_raster</th>
      <td><p>A named list of arguments, passed to <code><a href='https://edwardlavender.github.io/prettyGraphics/reference/add_sp.html'>add_sp_raster</a></code>, to plot the location-probability surface.</p></td>
    </tr>
    <tr>
      <th>add_receiver_1, add_receiver_2, add_receiver_3, add_receiver_n</th>
      <td><p>Named lists of arguments, passed to <code><a href='https://rdrr.io/r/graphics/points.html'>points</a></code>, to customise the appearance of receivers. <code>add_receiver_1</code> controls the appearance of the `current' receiver (at which the individual was last or has just been detected); <code>add_receiver_2</code> controls the appearance of the receiver at which the individual was next detected; <code>add_receiver_3</code> controls the appearance of the third receiver at which the individual was detected; and <code>add_receiver_n</code> controls the appearance of all remaining active receivers.</p></td>
    </tr>
    <tr>
      <th>add_container_ap, add_container_an, add_container_b, add_container_c</th>
      <td><p>Named lists of arguments that control the appearance of acoustic containers. (<code>container_ap</code> defines the boundaries of the individual's location from the perspective of its previous location; <code>container_an</code> defines the boundaries of the individual's location at the moment of detection from the perspective of the receiver that recorded the detection; <code>container_b</code> defines the boundaries of the individual's location from the perspective of the receiver at which the individual was next detected; and <code>container_c</code> defines the boundaries of the individual's location integrated across all of these perspectives; see <code><a href='acdc_record-class.html'>acdc_record-class</a></code>.) <code>add_container_ap,add_container_an</code> and <code>add_container_b</code> are passed to <code><a href='https://rdrr.io/pkg/raster/man/spplot.html'>lines,SpatialPolygons-method</a></code> and <code>add_container_c</code> is passed to <code><a href='https://rdrr.io/pkg/raster/man/plot.html'>plot</a></code>.</p></td>
    </tr>
    <tr>
      <th>add_coastline</th>
      <td><p>A named list of arguments, passed to <code><a href='https://rdrr.io/pkg/raster/man/plot.html'>plot</a></code>, to add coastline to each plot.</p></td>
    </tr>
    <tr>
      <th>add_main</th>
      <td><p>A named list of arguments, passed to <code><a href='https://rdrr.io/r/graphics/mtext.html'>mtext</a></code>, to customise the appearance of the plot title. Default plot titles are structured as follows: `Map for t = cumulative time step (detection time step [intermediate time step] time stamp'. When the intermediate time step is one, the individual is detected. At subsequent intermediate time steps, acoustic containers expand and contract.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Additional plot customisation options passed to <code><a href='https://edwardlavender.github.io/prettyGraphics/reference/pretty_map.html'>pretty_map</a></code>.</p></td>
    </tr>
    <tr>
      <th>par_param</th>
      <td><p>A named list of arguments, passed to <code><a href='https://rdrr.io/r/graphics/par.html'>par</a></code>, to set the plotting window.</p></td>
    </tr>
    <tr>
      <th>png_param</th>
      <td><p>(optional) A named list of arguments, passed to <code><a href='https://rdrr.io/r/grDevices/png.html'>png</a></code>, to save plots to file. If supplied, the plot for each time step is saved separately. The `filename' argument should be the directory in which plots are saved. Plots are then saved as "1.png", "2.png" and so on. If supplied, <code>prompt</code> is ignored (see below).</p></td>
    </tr>
    <tr>
      <th>prompt</th>
      <td><p>If <code>png_param</code> is not specified, <code>prompt</code> is a logical variable that defines whether or not to pause function execution between plots and between containers within plots to facilitate interpretation.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>The function returns, for each time step, a plot of the probability surface and acoustic containers.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='ac.html'>ac</a></code> and <code><a href='acdc.html'>acdc</a></code> implement the AC and ACDC algorithms and <code><a href='acdc_simplify.html'>acdc_simplify</a></code> simplifies the results. <code><a href='acdc_plot_record.html'>acdc_plot_record</a></code> and <code><a href='acdc_animate_record.html'>acdc_animate_record</a></code> provide additional visualisation routines.</p></div>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>Edward Lavender</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'>#### Prepare example AC algorithm outputs with spatial files</span>

<span class='co'>## Define example time series</span>
<span class='va'>id</span> <span class='op'>&lt;-</span> <span class='fl'>25</span>
<span class='va'>acc</span> <span class='op'>&lt;-</span> <span class='va'>dat_acoustics</span><span class='op'>[</span><span class='va'>dat_acoustics</span><span class='op'>$</span><span class='va'>individual_id</span> <span class='op'>==</span> <span class='va'>id</span>, <span class='op'>]</span>
<span class='va'>acc</span><span class='op'>$</span><span class='va'>timestamp</span> <span class='op'>&lt;-</span> <span class='fu'>lubridate</span><span class='fu'>::</span><span class='fu'><a href='https://lubridate.tidyverse.org/reference/round_date.html'>round_date</a></span><span class='op'>(</span><span class='va'>acc</span><span class='op'>$</span><span class='va'>timestamp</span>, <span class='st'>"2 mins"</span><span class='op'>)</span>
<span class='va'>acc</span><span class='op'>$</span><span class='va'>key</span>       <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span><span class='op'>(</span><span class='va'>acc</span><span class='op'>$</span><span class='va'>timestamp</span>, <span class='st'>"-"</span>, <span class='va'>acc</span><span class='op'>$</span><span class='va'>receiver_id</span><span class='op'>)</span>
<span class='va'>acc</span>           <span class='op'>&lt;-</span> <span class='va'>acc</span><span class='op'>[</span><span class='op'>!</span><span class='fu'><a href='https://rdrr.io/r/base/duplicated.html'>duplicated</a></span><span class='op'>(</span><span class='va'>acc</span><span class='op'>$</span><span class='va'>key</span><span class='op'>)</span>, <span class='op'>]</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>20</span>, <span class='op'>]</span>

<span class='co'>## Define receiver locations ('moorings' SPDF) and activity status matrix</span>
<span class='co'># Receiver locations</span>
<span class='va'>proj_wgs84</span> <span class='op'>&lt;-</span> <span class='fu'>sp</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/sp/man/CRS-class.html'>CRS</a></span><span class='op'>(</span>SRS_string <span class='op'>=</span> <span class='st'>"EPSG:4326"</span><span class='op'>)</span>
<span class='va'>proj_utm</span>   <span class='op'>&lt;-</span> <span class='fu'>sp</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/sp/man/CRS-class.html'>CRS</a></span><span class='op'>(</span>SRS_string <span class='op'>=</span> <span class='st'>"EPSG:32629"</span><span class='op'>)</span>
<span class='va'>xy</span> <span class='op'>&lt;-</span> <span class='fu'>sp</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/sp/man/SpatialPoints.html'>SpatialPoints</a></span><span class='op'>(</span><span class='va'>dat_moorings</span><span class='op'>[</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"receiver_long"</span>, <span class='st'>"receiver_lat"</span><span class='op'>)</span><span class='op'>]</span>,
                        <span class='va'>proj_wgs84</span><span class='op'>)</span>
<span class='va'>xy</span> <span class='op'>&lt;-</span> <span class='fu'>sp</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/sp/man/spTransform.html'>spTransform</a></span><span class='op'>(</span><span class='va'>xy</span>, <span class='va'>proj_utm</span><span class='op'>)</span>
<span class='va'>moorings</span> <span class='op'>&lt;-</span> <span class='fu'>sp</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/sp/man/SpatialPoints.html'>SpatialPointsDataFrame</a></span><span class='op'>(</span><span class='va'>xy</span>, data <span class='op'>=</span> <span class='va'>dat_moorings</span><span class='op'>)</span>
<span class='co'># Daily activity status matrix</span>
<span class='va'>as_POSIXct</span> <span class='op'>&lt;-</span> <span class='kw'>function</span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span> <span class='fu'><a href='https://rdrr.io/r/base/as.POSIXlt.html'>as.POSIXct</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='st'>"00:00:00"</span><span class='op'>)</span>, tz <span class='op'>=</span> <span class='st'>"UTC"</span><span class='op'>)</span>
<span class='va'>moorings_mat</span> <span class='op'>&lt;-</span> <span class='fu'><a href='make_matrix_receivers.html'>make_matrix_receivers</a></span><span class='op'>(</span><span class='va'>dat_moorings</span>,
                                      delta_t <span class='op'>=</span> <span class='st'>"days"</span>,
                                      as_POSIXct <span class='op'>=</span> <span class='va'>as_POSIXct</span><span class='op'>)</span>

<span class='co'>## Prepare grid</span>
<span class='co'># We will use a regular, relatively high resolution grid,</span>
<span class='co'># focused on a small area around the receivers at which the ID was detected</span>
<span class='va'>grid</span> <span class='op'>&lt;-</span> <span class='fu'>raster</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/raster/man/raster.html'>raster</a></span><span class='op'>(</span><span class='fu'>raster</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/raster/man/extent.html'>extent</a></span><span class='op'>(</span><span class='va'>dat_gebco</span><span class='op'>)</span>,
                       res <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>25</span>, <span class='fl'>25</span><span class='op'>)</span>,
                       crs <span class='op'>=</span> <span class='fu'>raster</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/raster/man/projection.html'>crs</a></span><span class='op'>(</span><span class='va'>dat_gebco</span><span class='op'>)</span><span class='op'>)</span>
<span class='va'>grid</span> <span class='op'>&lt;-</span> <span class='fu'>raster</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/raster/man/resample.html'>resample</a></span><span class='op'>(</span><span class='va'>dat_gebco</span>, <span class='va'>grid</span><span class='op'>)</span>
<span class='va'>ext</span> <span class='op'>&lt;-</span>
  <span class='fu'>raster</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/raster/man/extent.html'>extent</a></span><span class='op'>(</span>
    <span class='fu'>rgeos</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/rgeos/man/misc-gBuffer.html'>gBuffer</a></span><span class='op'>(</span><span class='va'>moorings</span><span class='op'>[</span><span class='va'>moorings</span><span class='op'>$</span><span class='va'>receiver_id</span> <span class='op'>%in%</span> <span class='va'>acc</span><span class='op'>$</span><span class='va'>receiver_id</span>, <span class='op'>]</span>,
                   width <span class='op'>=</span> <span class='fl'>10000</span><span class='op'>)</span>
  <span class='op'>)</span>
<span class='va'>grid</span> <span class='op'>&lt;-</span> <span class='fu'>raster</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/raster/man/crop.html'>crop</a></span><span class='op'>(</span><span class='va'>grid</span>, <span class='va'>ext</span><span class='op'>)</span>
<span class='va'>grid</span> <span class='op'>&lt;-</span> <span class='fu'>raster</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/raster/man/trim.html'>trim</a></span><span class='op'>(</span><span class='va'>grid</span><span class='op'>)</span>
<span class='fu'>raster</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/raster/man/plot.html'>plot</a></span><span class='op'>(</span><span class='va'>grid</span><span class='op'>)</span>
</div><div class='img'><img src='acdc_plot_trace-1.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='co'>## Define detection containers/probability kernels</span>
<span class='co'># Define detection containers</span>
<span class='va'>moorings</span> <span class='op'>&lt;-</span> <span class='fu'>raster</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/raster/man/crop.html'>crop</a></span><span class='op'>(</span><span class='va'>moorings</span>, <span class='va'>grid</span><span class='op'>)</span>
<span class='va'>dat_container</span> <span class='op'>&lt;-</span> <span class='fu'><a href='acs_setup_containers.html'>acs_setup_containers</a></span><span class='op'>(</span>xy <span class='op'>=</span> <span class='va'>moorings</span>,
                                    detection_range <span class='op'>=</span> <span class='fl'>425</span>,
                                    coastline <span class='op'>=</span> <span class='va'>dat_coast</span>,
                                    boundaries <span class='op'>=</span> <span class='va'>ext</span>,
                                    plot <span class='op'>=</span> <span class='cn'>TRUE</span>,
                                    resolution <span class='op'>=</span> <span class='fl'>10</span>,
                                    verbose <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>
</div><div class='output co'>#&gt; flapper::acs_setup_detection_containers() called (@ 2022-05-28 18:05:15)... 
#&gt; ... Checking user inputs... 
#&gt; ... Plotting background map of area... </div><div class='img'><img src='acdc_plot_trace-2.png' alt='' width='700' height='433' /></div><div class='output co'>#&gt; ... Making containers... 
#&gt; ... Plotting containers on map... 
#&gt; ... Processing containers... 
#&gt; ... flapper::acs_setup_detection_containers() call completed (@ 2022-05-28 18:05:16) after ~0.01 minutes. </div><div class='input'><span class='co'># Define detection container overlaps</span>
<span class='va'>containers_spdf</span>      <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/do.call.html'>do.call</a></span><span class='op'>(</span><span class='fu'>raster</span><span class='fu'>::</span><span class='va'><a href='https://rdrr.io/pkg/raster/man/bind.html'>bind</a></span>, <span class='fu'>plyr</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/plyr/man/compact.html'>compact</a></span><span class='op'>(</span><span class='va'>dat_containers</span><span class='op'>)</span><span class='op'>)</span>
<span class='va'>containers_spdf</span><span class='op'>@</span><span class='va'>data</span> <span class='op'>&lt;-</span> <span class='va'>dat_moorings</span>
<span class='va'>dat_containers_overlaps</span> <span class='op'>&lt;-</span>
  <span class='fu'><a href='get_detection_containers_overlap.html'>get_detection_containers_overlap</a></span><span class='op'>(</span>containers <span class='op'>=</span> <span class='va'>containers_spdf</span>,
                                  services <span class='op'>=</span> <span class='cn'>NULL</span><span class='op'>)</span>
<span class='co'># Define detection probability kernels</span>
<span class='va'>calc_dpr</span> <span class='op'>&lt;-</span>
  <span class='kw'>function</span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span><span class='op'>{</span>
    <span class='fu'><a href='https://rdrr.io/r/base/ifelse.html'>ifelse</a></span><span class='op'>(</span><span class='va'>x</span> <span class='op'>&lt;=</span> <span class='fl'>425</span>, <span class='fu'>stats</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/r/stats/Logistic.html'>plogis</a></span><span class='op'>(</span><span class='fl'>2.5</span> <span class='op'>+</span> <span class='op'>-</span><span class='fl'>0.02</span> <span class='op'>*</span> <span class='va'>x</span><span class='op'>)</span>, <span class='fl'>0</span><span class='op'>)</span>
  <span class='op'>}</span>
<span class='va'>dat_kernels</span> <span class='op'>&lt;-</span> <span class='fu'><a href='acs_setup_detection_kernels.html'>acs_setup_detection_kernels</a></span><span class='op'>(</span>xy <span class='op'>=</span> <span class='va'>moorings</span>,
                                           services <span class='op'>=</span> <span class='cn'>NULL</span>,
                                           containers <span class='op'>=</span> <span class='va'>dat_containers</span>,
                                           overlaps <span class='op'>=</span> <span class='va'>dat_containers_overlaps</span>,
                                           calc_detection_pr <span class='op'>=</span> <span class='va'>calc_dpr</span>,
                                           bathy <span class='op'>=</span> <span class='va'>grid</span><span class='op'>)</span>
</div><div class='output co'>#&gt; flapper::acs_setup_detection_kernels() called (@ 2022-05-28 18:05:17)... 
#&gt; ... Setting up function... 
#&gt; ... Getting receiver-specific kernels (for detection)... 
#&gt; 
#&gt; ... ... For receiver 3 ... 
#&gt; ... ... ... Isolating detection container ... 
#&gt; ... ... ... Calculating distances from the receiver ... 
#&gt; ... ... ... Calculating detection probability ... 
#&gt; ... ... ... Processing kernel ... 
#&gt; 
#&gt; ... ... For receiver 9 ... 
#&gt; ... ... ... Isolating detection container ... 
#&gt; ... ... ... Calculating distances from the receiver ... 
#&gt; ... ... ... Calculating detection probability ... 
#&gt; ... ... ... Processing kernel ... 
#&gt; 
#&gt; ... ... For receiver 18 ... 
#&gt; ... ... ... Isolating detection container ... 
#&gt; ... ... ... Calculating distances from the receiver ... 
#&gt; ... ... ... Calculating detection probability ... 
#&gt; ... ... ... Processing kernel ... 
#&gt; 
#&gt; ... ... For receiver 21 ... 
#&gt; ... ... ... Isolating detection container ... 
#&gt; ... ... ... Calculating distances from the receiver ... 
#&gt; ... ... ... Calculating detection probability ... 
#&gt; ... ... ... Processing kernel ... 
#&gt; 
#&gt; ... ... For receiver 24 ... 
#&gt; ... ... ... Isolating detection container ... 
#&gt; ... ... ... Calculating distances from the receiver ... 
#&gt; ... ... ... Calculating detection probability ... 
#&gt; ... ... ... Processing kernel ... 
#&gt; 
#&gt; ... ... For receiver 26 ... 
#&gt; ... ... ... Isolating detection container ... 
#&gt; ... ... ... Calculating distances from the receiver ... 
#&gt; ... ... ... Calculating detection probability ... 
#&gt; ... ... ... Processing kernel ... 
#&gt; 
#&gt; ... ... For receiver 27 ... 
#&gt; ... ... ... Isolating detection container ... 
#&gt; ... ... ... Calculating distances from the receiver ... 
#&gt; ... ... ... Calculating detection probability ... 
#&gt; ... ... ... Processing kernel ... 
#&gt; 
#&gt; ... ... For receiver 30 ... 
#&gt; ... ... ... Isolating detection container ... 
#&gt; ... ... ... Calculating distances from the receiver ... 
#&gt; ... ... ... Calculating detection probability ... 
#&gt; ... ... ... Processing kernel ... 
#&gt; 
#&gt; ... ... For receiver 31 ... 
#&gt; ... ... ... Isolating detection container ... 
#&gt; ... ... ... Calculating distances from the receiver ... 
#&gt; ... ... ... Calculating detection probability ... 
#&gt; ... ... ... Processing kernel ... 
#&gt; 
#&gt; ... ... For receiver 33 ... 
#&gt; ... ... ... Isolating detection container ... 
#&gt; ... ... ... Calculating distances from the receiver ... 
#&gt; ... ... ... Calculating detection probability ... 
#&gt; ... ... ... Processing kernel ... 
#&gt; 
#&gt; ... ... For receiver 36 ... 
#&gt; ... ... ... Isolating detection container ... 
#&gt; ... ... ... Calculating distances from the receiver ... 
#&gt; ... ... ... Calculating detection probability ... 
#&gt; ... ... ... Processing kernel ... 
#&gt; 
#&gt; ... ... For receiver 37 ... 
#&gt; ... ... ... Isolating detection container ... 
#&gt; ... ... ... Calculating distances from the receiver ... 
#&gt; ... ... ... Calculating detection probability ... 
#&gt; ... ... ... Processing kernel ... 
#&gt; 
#&gt; ... ... For receiver 38 ... 
#&gt; ... ... ... Isolating detection container ... 
#&gt; ... ... ... Calculating distances from the receiver ... 
#&gt; ... ... ... Calculating detection probability ... 
#&gt; ... ... ... Processing kernel ... 
#&gt; 
#&gt; ... ... For receiver 43 ... 
#&gt; ... ... ... Isolating detection container ... 
#&gt; ... ... ... Calculating distances from the receiver ... 
#&gt; ... ... ... Calculating detection probability ... 
#&gt; ... ... ... Processing kernel ... 
#&gt; 
#&gt; ... ... For receiver 45 ... 
#&gt; ... ... ... Isolating detection container ... 
#&gt; ... ... ... Calculating distances from the receiver ... 
#&gt; ... ... ... Calculating detection probability ... 
#&gt; ... ... ... Processing kernel ... 
#&gt; 
#&gt; ... ... For receiver 48 ... 
#&gt; ... ... ... Isolating detection container ... 
#&gt; ... ... ... Calculating distances from the receiver ... 
#&gt; ... ... ... Calculating detection probability ... 
#&gt; ... ... ... Processing kernel ... 
#&gt; 
#&gt; ... ... For receiver 49 ... 
#&gt; ... ... ... Isolating detection container ... 
#&gt; ... ... ... Calculating distances from the receiver ... 
#&gt; ... ... ... Calculating detection probability ... 
#&gt; ... ... ... Processing kernel ... 
#&gt; 
#&gt; ... ... For receiver 50 ... 
#&gt; ... ... ... Isolating detection container ... 
#&gt; ... ... ... Calculating distances from the receiver ... 
#&gt; ... ... ... Calculating detection probability ... 
#&gt; ... ... ... Processing kernel ... 
#&gt; 
#&gt; ... ... For receiver 51 ... 
#&gt; ... ... ... Isolating detection container ... 
#&gt; ... ... ... Calculating distances from the receiver ... 
#&gt; ... ... ... Calculating detection probability ... 
#&gt; ... ... ... Processing kernel ... 
#&gt; 
#&gt; ... ... For receiver 53 ... 
#&gt; ... ... ... Isolating detection container ... 
#&gt; ... ... ... Calculating distances from the receiver ... 
#&gt; ... ... ... Calculating detection probability ... 
#&gt; ... ... ... Processing kernel ... 
#&gt; 
#&gt; ... ... For receiver 55 ... 
#&gt; ... ... ... Isolating detection container ... 
#&gt; ... ... ... Calculating distances from the receiver ... 
#&gt; ... ... ... Calculating detection probability ... 
#&gt; ... ... ... Processing kernel ... 
#&gt; 
#&gt; ... ... For receiver 56 ... 
#&gt; ... ... ... Isolating detection container ... 
#&gt; ... ... ... Calculating distances from the receiver ... 
#&gt; ... ... ... Calculating detection probability ... 
#&gt; ... ... ... Processing kernel ... 
#&gt; 
#&gt; ... ... For receiver 57 ... 
#&gt; ... ... ... Isolating detection container ... 
#&gt; ... ... ... Calculating distances from the receiver ... 
#&gt; ... ... ... Calculating detection probability ... 
#&gt; ... ... ... Processing kernel ... 
#&gt; ... Getting receiver-specific inverse kernels... 
#&gt; ... Getting area-wide kernels (for non-detection)... 
#&gt; ... ... Get unique array designs... 
#&gt; ... ... Get area wide kernels for each array design... 
#&gt; 
#&gt; ... ... ... For design 1/12... 
#&gt; ... ... ... ... Extract detection probability kernels for active receivers... 
#&gt; ... ... ... ... Combining detection kernels to calculate the background detection probability surfaces (this is a slow step)... 
#&gt; 
#&gt; ... ... ... For design 2/12... 
#&gt; ... ... ... ... Extract detection probability kernels for active receivers... 
#&gt; ... ... ... ... Combining detection kernels to calculate the background detection probability surfaces (this is a slow step)... 
#&gt; 
#&gt; ... ... ... For design 3/12... 
#&gt; ... ... ... ... Extract detection probability kernels for active receivers... 
#&gt; ... ... ... ... Combining detection kernels to calculate the background detection probability surfaces (this is a slow step)... 
#&gt; 
#&gt; ... ... ... For design 4/12... 
#&gt; ... ... ... ... Extract detection probability kernels for active receivers... 
#&gt; ... ... ... ... Combining detection kernels to calculate the background detection probability surfaces (this is a slow step)... 
#&gt; 
#&gt; ... ... ... For design 5/12... 
#&gt; ... ... ... ... Extract detection probability kernels for active receivers... 
#&gt; ... ... ... ... Combining detection kernels to calculate the background detection probability surfaces (this is a slow step)... 
#&gt; 
#&gt; ... ... ... For design 6/12... 
#&gt; ... ... ... ... Extract detection probability kernels for active receivers... 
#&gt; ... ... ... ... Combining detection kernels to calculate the background detection probability surfaces (this is a slow step)... 
#&gt; 
#&gt; ... ... ... For design 7/12... 
#&gt; ... ... ... ... Extract detection probability kernels for active receivers... 
#&gt; ... ... ... ... Combining detection kernels to calculate the background detection probability surfaces (this is a slow step)... 
#&gt; 
#&gt; ... ... ... For design 8/12... 
#&gt; ... ... ... ... Extract detection probability kernels for active receivers... 
#&gt; ... ... ... ... Combining detection kernels to calculate the background detection probability surfaces (this is a slow step)... 
#&gt; 
#&gt; ... ... ... For design 9/12... 
#&gt; ... ... ... ... Extract detection probability kernels for active receivers... 
#&gt; ... ... ... ... Combining detection kernels to calculate the background detection probability surfaces (this is a slow step)... 
#&gt; 
#&gt; ... ... ... For design 10/12... 
#&gt; ... ... ... ... Extract detection probability kernels for active receivers... 
#&gt; ... ... ... ... Combining detection kernels to calculate the background detection probability surfaces (this is a slow step)... 
#&gt; 
#&gt; ... ... ... For design 11/12... 
#&gt; ... ... ... ... Extract detection probability kernels for active receivers... 
#&gt; ... ... ... ... Combining detection kernels to calculate the background detection probability surfaces (this is a slow step)... 
#&gt; 
#&gt; ... ... ... For design 12/12... 
#&gt; ... ... ... ... Extract detection probability kernels for active receivers... 
#&gt; ... ... ... ... Combining detection kernels to calculate the background detection probability surfaces (this is a slow step)... 
#&gt; ... Process detection probability kernels ... 
#&gt; ... flapper::acs_setup_detection_kernels() call completed (@ 2022-05-28 18:05:28) after ~0.2 minutes. </div><div class='input'>
<span class='co'>## Implement AC algorithm</span>
<span class='va'>out_ac</span> <span class='op'>&lt;-</span> <span class='fu'><a href='ac.html'>ac</a></span><span class='op'>(</span>acoustics <span class='op'>=</span> <span class='va'>acc</span>,
             step <span class='op'>=</span> <span class='fl'>120</span>,
             bathy <span class='op'>=</span> <span class='va'>grid</span>,
             detection_containers <span class='op'>=</span> <span class='va'>dat_containers</span>,
             detection_kernels <span class='op'>=</span> <span class='va'>dat_kernels</span>,
             detection_kernels_overlap <span class='op'>=</span> <span class='va'>dat_containers_overlaps</span>,
             mobility <span class='op'>=</span> <span class='fl'>200</span>,
             save_record_spatial <span class='op'>=</span> <span class='cn'>NULL</span>
             <span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='message'>flapper::ac() called (@ 2022-05-28 18:05:28)...</span></div><div class='output co'>#&gt; flapper::.acs_pl() called (@ 2022-05-28 18:05:28)... 
#&gt; ... Checking user inputs... 
#&gt; ... Processing movement time series... 
#&gt; ... Plotting movement time series (for each chunk)... </div><div class='output co'>#&gt; ... Calling .acs() to implement ACDC algorithm on one chunk... 
#&gt; flapper::.acs() called (@ 2022-05-28 18:05:28)... 
#&gt;   |                                                                              |                                                                      |   0%... Initiating algorithm: moving over acoustic and internal ('archival') time steps... 
#&gt; ... On acoustic time step ('timestep_detection') 1. 
#&gt; ... ... On internal time step ('timestep_archival') 1. 
#&gt;   |                                                                              |====                                                                  |   5%... On acoustic time step ('timestep_detection') 2. 
#&gt; ... ... On internal time step ('timestep_archival') 1. 
#&gt;   |                                                                              |=======                                                               |  11%... On acoustic time step ('timestep_detection') 3. 
#&gt; ... ... On internal time step ('timestep_archival') 1. 
#&gt; ... ... On internal time step ('timestep_archival') 2. 
#&gt; ... ... ... Acoustic container is expanding... 
#&gt;   |                                                                              |===========                                                           |  16%... On acoustic time step ('timestep_detection') 4. 
#&gt; ... ... On internal time step ('timestep_archival') 1. 
#&gt;   |                                                                              |===============                                                       |  21%... On acoustic time step ('timestep_detection') 5. 
#&gt; ... ... On internal time step ('timestep_archival') 1. 
#&gt; ... ... On internal time step ('timestep_archival') 2. 
#&gt; ... ... ... Acoustic container is expanding... 
#&gt;   |                                                                              |==================                                                    |  26%... On acoustic time step ('timestep_detection') 6. 
#&gt; ... ... On internal time step ('timestep_archival') 1. 
#&gt;   |                                                                              |======================                                                |  32%... On acoustic time step ('timestep_detection') 7. 
#&gt; ... ... On internal time step ('timestep_archival') 1. 
#&gt;   |                                                                              |==========================                                            |  37%... On acoustic time step ('timestep_detection') 8. 
#&gt; ... ... On internal time step ('timestep_archival') 1. 
#&gt;   |                                                                              |=============================                                         |  42%... On acoustic time step ('timestep_detection') 9. 
#&gt; ... ... On internal time step ('timestep_archival') 1. 
#&gt;   |                                                                              |=================================                                     |  47%... On acoustic time step ('timestep_detection') 10. 
#&gt; ... ... On internal time step ('timestep_archival') 1. 
#&gt;   |                                                                              |=====================================                                 |  53%... On acoustic time step ('timestep_detection') 11. 
#&gt; ... ... On internal time step ('timestep_archival') 1. 
#&gt;   |                                                                              |=========================================                             |  58%... On acoustic time step ('timestep_detection') 12. 
#&gt; ... ... On internal time step ('timestep_archival') 1. 
#&gt;   |                                                                              |============================================                          |  63%... On acoustic time step ('timestep_detection') 13. 
#&gt; ... ... On internal time step ('timestep_archival') 1. 
#&gt;   |                                                                              |================================================                      |  68%... On acoustic time step ('timestep_detection') 14. 
#&gt; ... ... On internal time step ('timestep_archival') 1. 
#&gt;   |                                                                              |====================================================                  |  74%... On acoustic time step ('timestep_detection') 15. 
#&gt; ... ... On internal time step ('timestep_archival') 1. 
#&gt;   |                                                                              |=======================================================               |  79%... On acoustic time step ('timestep_detection') 16. 
#&gt; ... ... On internal time step ('timestep_archival') 1. 
#&gt; ... ... On internal time step ('timestep_archival') 2. 
#&gt; ... ... ... Acoustic container is expanding... 
#&gt; ... ... On internal time step ('timestep_archival') 3. 
#&gt; ... ... ... Acoustic container is constant ... 
#&gt;   |                                                                              |===========================================================           |  84%... On acoustic time step ('timestep_detection') 17. 
#&gt; ... ... On internal time step ('timestep_archival') 1. 
#&gt;   |                                                                              |===============================================================       |  89%... On acoustic time step ('timestep_detection') 18. 
#&gt; ... ... On internal time step ('timestep_archival') 1. 
#&gt; ... ... On internal time step ('timestep_archival') 2. 
#&gt; ... ... On internal time step ('timestep_archival') 3. 
#&gt; ... ... On internal time step ('timestep_archival') 4. 
#&gt; ... ... On internal time step ('timestep_archival') 5. 
#&gt; ... ... On internal time step ('timestep_archival') 6. 
#&gt; ... ... On internal time step ('timestep_archival') 7. 
#&gt; ... ... On internal time step ('timestep_archival') 8. 
#&gt; ... ... On internal time step ('timestep_archival') 9. 
#&gt; ... ... On internal time step ('timestep_archival') 10. 
#&gt;   |                                                                              |==================================================================    |  95%... On acoustic time step ('timestep_detection') 19. 
#&gt; ... ... On internal time step ('timestep_archival') 1. 
#&gt;   |                                                                              |======================================================================| 100%
#&gt; ... Movement over acoustic and internal ('archival') time steps has been completed. 
#&gt; ... flapper::.acs() call completed (@ 2022-05-28 18:05:30) after ~0.03 minutes. 
#&gt; ... flapper::.acs_pl() call completed (@ 2022-05-28 18:05:30) after ~0.03 minutes. </div><div class='output co'>#&gt; <span class='message'>flapper::ac() finished (@ 2022-05-28 18:05:30)...</span></div><div class='img'><img src='acdc_plot_trace-3.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='co'>## Simplify outputs</span>
<span class='va'>record</span> <span class='op'>&lt;-</span> <span class='fu'><a href='acdc_simplify.html'>acdc_simplify</a></span><span class='op'>(</span><span class='va'>out_ac</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='message'>acdc_simplify() implemented for type = 'acs'.</span></div><div class='input'>
<span class='co'>#### Example (1): Implement the function with default arguments</span>
<span class='kw'>if</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/interactive.html'>interactive</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span><span class='op'>{</span>
  <span class='fu'>acdc_plot_trace</span><span class='op'>(</span><span class='va'>record</span>, <span class='fl'>1</span><span class='op'>:</span><span class='fl'>10</span>, <span class='va'>moorings</span>, <span class='va'>moorings_mat</span><span class='op'>)</span>
<span class='op'>}</span>

<span class='co'>#### Example (2): Customise plot via add_* arguments and ...</span>
<span class='kw'>if</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/interactive.html'>interactive</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span><span class='op'>{</span>
  <span class='fu'>acdc_plot_trace</span><span class='op'>(</span><span class='va'>record</span>, <span class='fl'>1</span><span class='op'>:</span><span class='fl'>10</span>, <span class='va'>moorings</span>, <span class='va'>moorings_mat</span>,
                  add_raster <span class='op'>=</span>
                    <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>plot_method <span class='op'>=</span> <span class='fu'>raster</span><span class='fu'>::</span><span class='va'><a href='https://rdrr.io/pkg/raster/man/plot.html'>plot</a></span>, legend <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span>,
                  add_coastline <span class='op'>=</span>
                    <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>dat_coast</span>, col <span class='op'>=</span> <span class='fu'>scales</span><span class='fu'>::</span><span class='fu'><a href='https://scales.r-lib.org/reference/alpha.html'>alpha</a></span><span class='op'>(</span><span class='st'>"dimgrey"</span>, <span class='fl'>0.5</span><span class='op'>)</span><span class='op'>)</span>,
                  xlim <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>699000</span>, <span class='fl'>711000</span><span class='op'>)</span>,
                  ylim <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>6250000</span>, <span class='fl'>6269500</span><span class='op'>)</span><span class='op'>)</span>
<span class='op'>}</span>

<span class='co'>#### Example (3): Save plots to file via the png_param argument</span>
<span class='va'>con</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/tempfile.html'>tempdir</a></span><span class='op'>(</span><span class='op'>)</span>, <span class='st'>"/acdc_trace/"</span><span class='op'>)</span>
<span class='kw'>if</span><span class='op'>(</span><span class='op'>!</span><span class='fu'><a href='https://rdrr.io/r/base/files2.html'>dir.exists</a></span><span class='op'>(</span><span class='va'>con</span><span class='op'>)</span><span class='op'>)</span> <span class='fu'><a href='https://rdrr.io/r/base/files2.html'>dir.create</a></span><span class='op'>(</span><span class='va'>con</span><span class='op'>)</span>
<span class='fu'>acdc_plot_trace</span><span class='op'>(</span><span class='va'>record</span>, <span class='fl'>1</span><span class='op'>:</span><span class='fl'>10</span>, <span class='va'>moorings</span>, <span class='va'>moorings_mat</span>,
                add_raster <span class='op'>=</span>
                  <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>plot_method <span class='op'>=</span> <span class='fu'>raster</span><span class='fu'>::</span><span class='va'><a href='https://rdrr.io/pkg/raster/man/plot.html'>plot</a></span>, legend <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span>,
                add_coastline <span class='op'>=</span>
                  <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>dat_coast</span>, col <span class='op'>=</span> <span class='fu'>scales</span><span class='fu'>::</span><span class='fu'><a href='https://scales.r-lib.org/reference/alpha.html'>alpha</a></span><span class='op'>(</span><span class='st'>"dimgrey"</span>, <span class='fl'>0.5</span><span class='op'>)</span><span class='op'>)</span>,
                xlim <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>699000</span>, <span class='fl'>711000</span><span class='op'>)</span>,
                ylim <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>6250000</span>, <span class='fl'>6269500</span><span class='op'>)</span>,
                png_param <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>filename <span class='op'>=</span> <span class='va'>con</span><span class='op'>)</span>,
                prompt <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/base/list.files.html'>list.files</a></span><span class='op'>(</span><span class='va'>con</span><span class='op'>)</span>
</div><div class='output co'>#&gt;  [1] "1.png"  "10.png" "11.png" "12.png" "13.png" "14.png" "15.png" "16.png"
#&gt;  [9] "17.png" "18.png" "19.png" "2.png"  "20.png" "21.png" "22.png" "23.png"
#&gt; [17] "24.png" "25.png" "26.png" "27.png" "28.png" "29.png" "3.png"  "30.png"
#&gt; [25] "31.png" "4.png"  "5.png"  "6.png"  "7.png"  "8.png"  "9.png" </div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Edward Lavender.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


