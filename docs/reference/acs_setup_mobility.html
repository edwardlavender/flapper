<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Examine the constant `mobility' assumption of the AC* algorithm(s) — acs_setup_mobility • flapper</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Examine the constant `mobility' assumption of the AC* algorithm(s) — acs_setup_mobility"><meta property="og:description" content="In the simplest and fastest (and only) version of the acoustic-container (AC) and acoustic-container depth-contour (ACDC) algorithms currently implemented by flapper, the rate at which acoustic containers expand and contract depends on a single `mobility' parameter that describes how the set of possible locations for an individual changes through time according to the passive acoustic telemetry data. These changes essentially reflect the maximum horizontal distance that an individual can move in the regularised time steps between sequential detections. However, in some situations, a fixed parameter for horizontal movement may not be well supported. For instance, in cases with archival data (the ACDC algorithm), animals changes dramatically in depth and for which changes in depth are likely to curtail the extent of horizontal movement*. Thus, this function investigates the extent to which the horizontal distance an animal could travel changes through time if the mobility parameter is instead conceptualised as the diagonal distance between sequential depth observations."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">flapper</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/flapper_algorithms_faqs.html">`flapper`: practitioner FAQs</a>
    </li>
    <li>
      <a href="../articles/flapper_overview.html">`flapper`: an overview</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/edwardlavender/flapper/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Examine the constant `mobility' assumption of the AC* algorithm(s)</h1>
    <small class="dont-index">Source: <a href="https://github.com/edwardlavender/flapper/blob/HEAD/R/acs_setup.R" class="external-link"><code>R/acs_setup.R</code></a></small>
    <div class="hidden name"><code>acs_setup_mobility.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>In the simplest and fastest (and only) version of the acoustic-container (AC) and acoustic-container depth-contour (ACDC) algorithms currently implemented by <code><a href="flapper.html">flapper</a></code>, the rate at which acoustic containers expand and contract depends on a single `mobility' parameter that describes how the set of possible locations for an individual changes through time according to the passive acoustic telemetry data. These changes essentially reflect the maximum horizontal distance that an individual can move in the regularised time steps between sequential detections. However, in some situations, a fixed parameter for horizontal movement may not be well supported. For instance, in cases with archival data (the ACDC algorithm), animals changes dramatically in depth and for which changes in depth are likely to curtail the extent of horizontal movement*. Thus, this function investigates the extent to which the horizontal distance an animal could travel changes through time if the mobility parameter is instead conceptualised as the diagonal distance between sequential depth observations.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">acs_setup_mobility</span><span class="op">(</span></span>
<span>  <span class="va">depth</span>,</span>
<span>  <span class="va">mobility</span>,</span>
<span>  plot <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  add_mobility <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>col <span class="op">=</span> <span class="st">"royalblue"</span>, lwd <span class="op">=</span> <span class="fl">2</span><span class="op">)</span>,</span>
<span>  add_rug <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  <span class="va">xlab</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>depth</dt>
<dd><p>A vector of depth observations, whose units match the <code>mobility</code> parameter, to be incorporated into the ACDC algorithm. (Note that the ACDC algorithm may drop depth observations internally depending on their alignment with the acoustic time series and so, ideally, pre-processed time series should be passed to <code>depth</code> to ensure inferences correspond directly to the time series modelled by <code><a href="acdc.html">acdc</a></code>.) Depth observations should be regularly spaced in time (i.e., represent a time series for a single individual, without gaps).</p></dd>


<dt>mobility</dt>
<dd><p>A number, in the same units as <code>depth</code>, that defines the maximum horizontal distance that an individual could move in the time period between archival observations (see <code><a href="acs_setup_containers.html">acs_setup_containers</a></code>).</p></dd>


<dt>plot</dt>
<dd><p>A logical variable that defines whether or not to plot the distribution of horizontal distances that the individual could travel, given its depth time series and <code>mobility</code>, as a histogram.</p></dd>


<dt>add_mobility</dt>
<dd><p>(optional) If <code>plot = TRUE</code>, <code>add_mobility</code> is a named list of arguments, passed to <code><a href="https://rdrr.io/r/graphics/abline.html" class="external-link">abline</a></code>, to add the <code>mobility</code> parameter as a vertical line to the histogram as a reference point. <code>add_mobility = NULL</code> suppresses this line.</p></dd>


<dt>add_rug</dt>
<dd><p>(optional) If <code>plot = TRUE</code>, <code>add_rug</code> is a named list of arguments, passed to <code><a href="https://rdrr.io/r/graphics/rug.html" class="external-link">rug</a></code>, to add the estimated distances to the histogram as a rug. <code>add_rug = NULL</code> suppresses this rug.</p></dd>


<dt>xlab, ...</dt>
<dd><p>Additional arguments, passed to <code><a href="https://edwardlavender.github.io/prettyGraphics/reference/pretty_hist.html" class="external-link">pretty_hist</a></code>, to customise the histogram.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>The function returns a numeric vector of distances and, if <code>plot = TRUE</code>, a histogram of those distances.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>The function uses a Pythagorean approximation to estimate the \(distance\) that an individual could travel in each time step (\(t\)), given the maximum horizontal distance that the individual could move (\(mobility\)) and sequential changes in \(depth\), according to the equation:</p>
<p>$$distance_{t + 1} = \sqrt{mobility^2 + (depth_{t + 1} - depth_{t})^2},$$</p>
<p>where \(depth_{t + 1}\) for the final (\(n^{th}\)) observation is defined as \(depth_{t = n}\) and thus \(distance_{t = n} = mobility\).</p>
<p>*If the horizontal distances that an individual could travel are not very variable, then the benefits of a single mobility parameter are likely to outweigh the costs. On the other hand, substantial variation in the horizontal distances that an individual could travel may suggest that a constant mobility parameter is inappropriate; in this situation, the correct containers could be computed on-the-fly within the ACDC algorithm, but this is not currently implemented. However, the particle filtering algorithms can account for this by the incorporation of movement models within/between acoustic containers.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code>acs_setup_mobility</code>, <code><a href="acs_setup_containers.html">acs_setup_containers</a></code> and <code><a href="acs_setup_detection_kernels.html">acs_setup_detection_kernels</a></code> are used to set up the AC and ACDC algorithms as implemented by <code><a href="ac.html">ac</a></code> and <code><a href="acdc.html">acdc</a></code>.</p></div>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Edward Lavender</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co">#### Example (1) Explore mobility for single individual</span></span></span>
<span class="r-in"><span><span class="va">mob</span> <span class="op">&lt;-</span></span></span>
<span class="r-in"><span>  <span class="fu">acs_setup_mobility</span><span class="op">(</span></span></span>
<span class="r-in"><span>    depth <span class="op">=</span> <span class="va">dat_archival</span><span class="op">$</span><span class="va">depth</span><span class="op">[</span><span class="va">dat_archival</span><span class="op">$</span><span class="va">individual_id</span> <span class="op">==</span> <span class="fl">25</span><span class="op">]</span>,</span></span>
<span class="r-in"><span>    mobility <span class="op">=</span> <span class="fl">200</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-plt img"><img src="acs_setup_mobility-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#### Example (2) Customise histogram</span></span></span>
<span class="r-in"><span><span class="co"># ... suppress plot with plot =  FALSE</span></span></span>
<span class="r-in"><span><span class="co"># ... suppress add_* lists with NULL or customise</span></span></span>
<span class="r-in"><span><span class="co"># ... pass args to prettyGraphics::pretty_hist() via ...</span></span></span>
<span class="r-in"><span><span class="va">mob</span> <span class="op">&lt;-</span></span></span>
<span class="r-in"><span>  <span class="fu">acs_setup_mobility</span><span class="op">(</span></span></span>
<span class="r-in"><span>    depth <span class="op">=</span> <span class="va">dat_archival</span><span class="op">$</span><span class="va">depth</span><span class="op">[</span><span class="va">dat_archival</span><span class="op">$</span><span class="va">individual_id</span> <span class="op">==</span> <span class="fl">25</span><span class="op">]</span>,</span></span>
<span class="r-in"><span>    mobility <span class="op">=</span> <span class="fl">200</span>,</span></span>
<span class="r-in"><span>    add_mobility <span class="op">=</span> <span class="cn">NULL</span>,</span></span>
<span class="r-in"><span>    add_rug <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>      side <span class="op">=</span> <span class="fl">3</span>, pos <span class="op">=</span> <span class="fl">25000</span>,</span></span>
<span class="r-in"><span>      col <span class="op">=</span> <span class="st">"darkred"</span>, lwd <span class="op">=</span> <span class="fl">0.25</span>, ticksize <span class="op">=</span> <span class="fl">0.01</span></span></span>
<span class="r-in"><span>    <span class="op">)</span>,</span></span>
<span class="r-in"><span>    breaks <span class="op">=</span> <span class="fl">25</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-plt img"><img src="acs_setup_mobility-2.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#### Example (3) Explore mobility for mulitple individuals</span></span></span>
<span class="r-in"><span><span class="va">pp</span> <span class="op">&lt;-</span> <span class="fu">graphics</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>mfrow <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">mob_ls</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">dat_archival</span><span class="op">$</span><span class="va">individual_id</span><span class="op">)</span>, <span class="kw">function</span><span class="op">(</span><span class="va">id</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="fu">acs_setup_mobility</span><span class="op">(</span></span></span>
<span class="r-in"><span>    depth <span class="op">=</span> <span class="va">dat_archival</span><span class="op">$</span><span class="va">depth</span><span class="op">[</span><span class="va">dat_archival</span><span class="op">$</span><span class="va">individual_id</span> <span class="op">==</span> <span class="va">id</span><span class="op">]</span>,</span></span>
<span class="r-in"><span>    mobility <span class="op">=</span> <span class="fl">200</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">graphics</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span><span class="va">pp</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="acs_setup_mobility-3.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#### Results</span></span></span>
<span class="r-in"><span><span class="co"># For these sample time series, even though the animals change depth</span></span></span>
<span class="r-in"><span><span class="co"># ... (quite substantially) though time, the sequential changes in depth</span></span></span>
<span class="r-in"><span><span class="co"># ... are small and the influence on the horizontal distances that they</span></span></span>
<span class="r-in"><span><span class="co"># ... are assumed to be able to travel in the time gap between archival</span></span></span>
<span class="r-in"><span><span class="co"># ... observations is so small that a constant mobility parameter</span></span></span>
<span class="r-in"><span><span class="co"># ... is reasonable without further information (e.g., models of the underlying</span></span></span>
<span class="r-in"><span><span class="co"># ... behavioural state of the animal). However, it is still likely to be</span></span></span>
<span class="r-in"><span><span class="co"># ... beneficial to include a movement model to join locations within/</span></span></span>
<span class="r-in"><span><span class="co"># ... between acoustic containers for some applications via particle filtering.</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Edward Lavender.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

